if (self.CavalryLogger) { CavalryLogger.start_js(["ZmU3k"]); }

__d("NotificationsTabEnum",[],(function a(b,c,d,e,f,g){f.exports={CONVERSATIONS:"My Conversations",KEYWORDS:"Keywords"};}),null);
__d('NotificationsTabsModel',['fbt','EnterpriseLabsLoggingEvents','EnterpriseLabsTypedLogger'],(function a(b,c,d,e,f,g,h){var i={TABS:{all:h._("All"),myConversations:h._("My Conversations"),keywords:h._("Keywords")},onTabSelectionChanged:function j(){var k=this.props.children[this.getSelectedIndex()].key;new (c('EnterpriseLabsTypedLogger'))().setEntityID('tab:'+k).setEvent(c('EnterpriseLabsLoggingEvents').NT_CLICK_TAB).log();}};f.exports=i;}),null);
__d("XKeywordSubscribeController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/keyword\/controller\/{?keyword_id}\/",{keyword_id:{type:"String"}});}),null);
__d('NotificationTabsController',['cx','React','LogicalGrid.react','NotificationsTabConfig','NotificationsTabsModel','SignalsTab.react','XKeywordSubscribeController'],(function a(b,c,d,e,f,g,h){var i={conversations:'https://our.intern.facebook.com/intern/wiki/IT_Frontpage'+'/Enterprise_Labs/Tabs_for_Notifications/#FAQ',keywords:c('XKeywordSubscribeController').getURIBuilder().getURI()},j={getSizeUnseenState:function k(l){var m={};for(var n in c('NotificationsTabsModel').TABS)m[c('NotificationsTabsModel').TABS[n]]=0;m.All=m.All||0;var o=[];for(var p in l){o.push(l[p].seen_state);if(l[p].seen_state in c('NotificationsTabConfig').notifs_unseen){m.All++;if(!isNaN(m[l[p].notifTab]))m[l[p].notifTab]++;}}return m;},getTabByName:function k(l,m,n,o){var p=m[l]||0;return c('React').createElement(c('SignalsTab.react'),{title:l,key:l,count:p},c('React').createElement(c('LogicalGrid.react'),{component:n},o),c('React').createElement('div',{className:"_57g3"},c('React').createElement('a',{href:i.conversations},'Learn More')));}};f.exports=j;}),null);
__d('WebNotificationsBottomCollisionsTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:WebNotificationsBottomCollisionsLoggerConfig',this.$WebNotificationsBottomCollisionsTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:WebNotificationsBottomCollisionsLoggerConfig',this.$WebNotificationsBottomCollisionsTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$WebNotificationsBottomCollisionsTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$WebNotificationsBottomCollisionsTypedLogger1=babelHelpers['extends']({},this.$WebNotificationsBottomCollisionsTypedLogger1,j);return this;};h.prototype.setVC=function(j){this.$WebNotificationsBottomCollisionsTypedLogger1.vc=j;return this;};var i={vc:true};f.exports=h;}),null);
__d('NotificationJewelList.react',['cx','fbt','Animation','ErrorBoundary.react','Event','FunnelLogger','LogicalGrid.react','NotificationJewelFunnelLoggingConstants','NotificationListConfig','NotificationListItem.react','NotificationListPropTypes','NotificationsTabConfig','NotificationsTabEnum','NotificationsTabsModel','NotificationTabsController','NotificationVPVs','NotifTestIDs','QE2Logger','React','ReactDOM','ScrollableArea.react','SignalsTab.react','SignalsTabGroup.react','Vector','WebNotificationsBottomCollisionsTypedLogger','XUISpinner.react','debounce','getObjectValues','isEmpty'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('NotificationJewelFunnelLoggingConstants').FUNNEL_LOGGING_NAME,m=c('NotificationJewelFunnelLoggingConstants').FUNNEL_LOGGING_EVENT,n=c('NotificationListConfig').numStoriesFromEndBeforeAFetchIsTriggered,o=160,p=530,q=61,r=Math.ceil(q*n),s=64,t=430,u=void 0;function v(x){if(u!=x){new (c('WebNotificationsBottomCollisionsTypedLogger'))().log();u=x;}}j=babelHelpers.inherits(w,c('React').Component);k=j&&j.prototype;function w(){var x,y;'use strict';for(var z=arguments.length,aa=Array(z),ba=0;ba<z;ba++)aa[ba]=arguments[ba];return y=(x=k.constructor).call.apply(x,[this].concat(aa)),this.$NotificationJewelList6=function(){if(!this.$NotificationJewelList1||!this.$NotificationJewelList3)return;var ca=c('ReactDOM').findDOMNode(this.$NotificationJewelList1);if(!ca)return;var da=c('ReactDOM').findDOMNode(this.$NotificationJewelList3);if(!da)return;var ea=c('NotificationVPVs').getValidatedRectangle(da);if(this.props.afterScroll)this.props.afterScroll(this.$NotificationJewelList4(),ca,ea);}.bind(this),this.$NotificationJewelList7=function(){return c('getObjectValues')(this.props.notifs).map(function(ca){return JSON.stringify(ca);});}.bind(this),this.$NotificationJewelList10=function(){c('FunnelLogger').appendAction(l,m.SCROLL_TO_FETCH);this.$NotificationJewelList6();}.bind(this),y;}w.prototype.$NotificationJewelList4=function(){'use strict';if(!this.$NotificationJewelList2||!this.$NotificationJewelList3)return false;var x=c('ReactDOM').findDOMNode(this.$NotificationJewelList3);if(!x)return false;var y=c('ReactDOM').findDOMNode(this.$NotificationJewelList2);if(!y)return false;var z=c('Vector').getElementDimensions(x).y;if(z===0)return false;var aa=c('Vector').getElementPosition(x).y+z,ba=c('Vector').getElementPosition(y).y,ca=this.$NotificationJewelList3&&this.$NotificationJewelList3.getArea();if(ca&&ca.getScrollTop()>0&&ba<aa)v(c('getObjectValues')(this.props.notifs).length);c('QE2Logger').logExposureForUser('www_notifications_perf_h2_2017');return ba-r<aa;};w.prototype.$NotificationJewelList5=function(){'use strict';var x=c('Vector').getViewportDimensions().y,y=Math.min(this.props.maxHeight||p,x-o);if(this.props.upsell)return Math.max(y-s,0);return y;};w.prototype.$NotificationJewelList8=function(x,y){'use strict';var z=void 0;if(!x){z=function ba(ca){return ca;};}else z=function ba(ca){if(ca.notifTab===y)return ca;return null;};var aa=c('getObjectValues')(this.props.notifs).filter(z).map(function(ba){return ba.alert_id;});return c('getObjectValues')(this.props.notifs).filter(z).map(function(ba,ca){var da=ba.alert_id,ea=this.$NotificationJewelList9(da,aa);return c('React').createElement(c('ErrorBoundary.react'),{key:da},c('React').createElement(c('NotificationListItem.react'),{getDebugData:this.$NotificationJewelList7,isRead:this.props.readState[da],negativeTracking:this.props.negativeTracking,onChevronHide:this.props.onChevronHide,onChevronShow:this.props.onChevronShow,onRead:this.props.onRead,parent:this,paused:this.props.paused,row:ea,rowIndex:ca,shortenTimestamp:this.props.shortenTimestamp,visible:!this.props.hiddenState[da],notification:ba}));}.bind(this));};w.prototype.componentDidMount=function(){'use strict';if(!this.$NotificationJewelList3)return;var x=c('ReactDOM').findDOMNode(this.$NotificationJewelList3);c('Event').listen(window,'resize',c('debounce')(function(){if(!c('isEmpty')(this.props.notifs))new (c('Animation'))(x).to('height',this.$NotificationJewelList5()+'px').duration(100).go();}.bind(this)));};w.prototype.componentDidUpdate=function(x){'use strict';if(this.props.paused&&!x.paused)if(this.props.shouldScroll&&this.$NotificationJewelList3){var y=this.$NotificationJewelList3.getArea();if(y)y.scrollToTop(false);}setTimeout(this.$NotificationJewelList6,0);};w.prototype.$NotificationJewelList9=function(x,y){'use strict';return y.indexOf(x);};w.prototype.render=function(){'use strict';var x=this.props.notifs,y=null,z=null,aa=t,ba=null,ca=c('React').createElement('ul',{'data-gt':this.props.tracking,'data-testid':c('NotifTestIDs').REACT_NOTIF_LIST});if(!c('isEmpty')(x)){y=c('React').createElement(c('LogicalGrid.react'),{ref:function(oa){return this.$NotificationJewelList1=oa;}.bind(this),component:ca},this.$NotificationJewelList8(false,''));z=this.$NotificationJewelList5();}else if(!this.props.canFetchMore)y=c('React').createElement('div',{className:"_572e",'data-testid':c('NotifTestIDs').REACT_NOTIF_LIST},i._("No hay notificaciones nuevas"));if(this.props.canFetchMore)ba=c('React').createElement(c('XUISpinner.react'),{ref:function(oa){return this.$NotificationJewelList2=oa;}.bind(this),paused:!this.props.currentlyFetching,className:"jewelLoading"});var da=null;if(this.props.upsell){var ea=this.props.upsell.module;da=c('React').createElement(ea,this.props.upsell.props);}var fa="_50-t"+(this.props.showingChevron?' '+"_2iy1":''),ga=c('React').createElement(c('ScrollableArea.react'),{ref:function(oa){return this.$NotificationJewelList3=oa;}.bind(this),width:aa,height:z,fade:true,persistent:true,onScroll:c('debounce')(this.$NotificationJewelList10,200)},y,ba);if(c('NotificationsTabConfig').in_gk_notifications_tab&&c('NotificationsTabConfig').is_work_user){var ha=true,ia=this.$NotificationJewelList8(ha,c('NotificationsTabEnum').CONVERSATIONS),ja=this.$NotificationJewelList8(ha,c('NotificationsTabEnum').KEYWORDS),ka=c('NotificationTabsController').getSizeUnseenState(x),la=c('NotificationTabsController').getTabByName(c('NotificationsTabsModel').TABS.myConversations,ka,ca,ia),ma=c('NotificationTabsController').getTabByName(c('NotificationsTabsModel').TABS.keywords,ka,ca,ja),na=c('NotificationsTabsModel').TABS.all;ga=c('React').createElement(c('SignalsTabGroup.react'),{onSelectionChanged:c('NotificationsTabsModel').onTabSelectionChanged},c('React').createElement(c('SignalsTab.react'),{title:na,key:na,count:ka[na]},ga),la,ma);}return c('React').createElement('div',{className:fa},ga,da);};w.propTypes=c('NotificationListPropTypes');f.exports=w;}),null);