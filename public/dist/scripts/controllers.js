!function(){angular.module("app.ctrls").controller("c3ChartDemoCtrl",["$scope",function($scope){$scope.lineconfig={data:{columns:[["data1",30,200,100,200,150,250],["data2",50,20,10,40,15,25]]}},$scope.splineconfig={data:{columns:[["data1",30,200,100,400,150,250],["data2",130,100,140,200,150,50],["data3",50,20,10,40,15,25]],type:"spline"}},$scope.stepconfig={data:{columns:[["data1",300,350,300,0,0,100],["data2",130,100,140,200,150,50]],types:{data1:"step",data2:"area-step"}}},$scope.barconfig={data:{columns:[["data1",30,200,100,400,150,250],["data2",130,100,140,200,150,50]],type:"bar"},bar:{width:{ratio:.5}}},$scope.areaconfig={data:{columns:[["data1",300,350,300,0,0,120],["data2",130,100,140,200,150,50]],types:{data1:"area-spline",data2:"area-spline"},groups:[["data1","data2"]]}},$scope.stackedbarconfig={data:{columns:[["data1",-30,200,200,400,-150,250],["data2",130,100,-100,200,-150,50],["data3",-230,200,200,-300,250,250]],type:"bar",groups:[["data1","data2"]]},grid:{y:{lines:[{value:0}]}}},$scope.pieconfig={data:{columns:[["setosa",.2,.2,.2,.2,.2,.4,.3,.2,.2,.1,.2,.2,.1,.1,.2,.4,.4,.3,.3,.3,.2,.4,.2,.5,.2,.2,.4,.2,.2,.2,.2,.4,.1,.2,.2,.2,.2,.1,.2,.2,.3,.3,.2,.6,.4,.3,.2,.2,.2,.2],["versicolor",1.4,1.5,1.5,1.3,1.5,1.3,1.6,1,1.3,1.4,1,1.5,1,1.4,1.3,1.4,1.5,1,1.5,1.1,1.8,1.3,1.5,1.2,1.3,1.4,1.4,1.7,1.5,1,1.1,1,1.2,1.6,1.5,1.6,1.5,1.3,1.3,1.3,1.2,1.4,1.2,1,1.3,1.2,1.3,1.3,1.1,1.3],["virginica",2.5,1.9,2.1,1.8,2.2,2.1,1.7,1.8,1.8,2.5,2,1.9,2.1,2,2.4,2.3,1.8,2.2,2.3,1.5,2.3,2,2,1.8,2.1,1.8,1.8,1.8,2.1,1.6,1.9,2,2.2,1.5,1.4,2.3,2.4,1.8,1.8,2.1,2.4,2.3,1.9,2.3,2.5,2.3,1.9,2,2.3,1.8]],type:"pie"}},$scope.donutconfig={data:{columns:[["setosa",.2,.2,.2,.2,.2,.4,.3,.2,.2,.1,.2,.2,.1,.1,.2,.4,.4,.3,.3,.3,.2,.4,.2,.5,.2,.2,.4,.2,.2,.2,.2,.4,.1,.2,.2,.2,.2,.1,.2,.2,.3,.3,.2,.6,.4,.3,.2,.2,.2,.2],["versicolor",1.4,1.5,1.5,1.3,1.5,1.3,1.6,1,1.3,1.4,1,1.5,1,1.4,1.3,1.4,1.5,1,1.5,1.1,1.8,1.3,1.5,1.2,1.3,1.4,1.4,1.7,1.5,1,1.1,1,1.2,1.6,1.5,1.6,1.5,1.3,1.3,1.3,1.2,1.4,1.2,1,1.3,1.2,1.3,1.3,1.1,1.3],["virginica",2.5,1.9,2.1,1.8,2.2,2.1,1.7,1.8,1.8,2.5,2,1.9,2.1,2,2.4,2.3,1.8,2.2,2.3,1.5,2.3,2,2,1.8,2.1,1.8,1.8,1.8,2.1,1.6,1.9,2,2.2,1.5,1.4,2.3,2.4,1.8,1.8,2.1,2.4,2.3,1.9,2.3,2.5,2.3,1.9,2,2.3,1.8]],type:"donut"}},$scope.epcOpts={size:180,lineWidth:12,lineCap:"square",barColor:"#E91E63"},$scope.epcPercent=80}])}();


!function(){angular.module("app.ctrls").controller("CalendarDemoCtrl",["$scope","uiCalendarConfig","$compile",function($scope,uiCalendarConfig,$compile){var cc=uiCalendarConfig.calendars,date=new Date,d=date.getDate(),m=date.getMonth(),y=date.getFullYear();$scope.events=[{title:"All Day Event",start:new Date(y,m,1)},{title:"Very Long Event",start:new Date(y,m,d+10,11,22),end:new Date(y,m,d+13),className:"bg-primary",description:"Short description about event"},{id:999,title:"Repeating Event",start:new Date(y,m,d-3,16,33),allDay:!1,className:"bg-danger"},{title:"Repeating Event",start:new Date(y,m,d+4,13,45),className:"bg-warning"},{title:"Birthday Party",start:new Date(y,m,d+1,19,0),end:new Date(y,m,d+1,22,30),allDay:!1,description:"Come to my birthday.",className:"bg-info"},{title:"Click for Google",start:new Date(y,m,28),end:new Date(y,m,29),url:"http://google.com/",className:"bg-success"}],$scope.events.forEach(function(a,i){a.humanDate=moment(a.start).format("MMM DD")+" - "+moment(a.end).format("MMM DD")}),$scope.eventSources=[$scope.events],$scope.eventRender=function(event,elem,view){elem.attr({tooltip:"Start Time: "+moment(event.start).format("MMM DD hh:mm"),"tooltip-append-to-body":!0}),$compile(elem)($scope)},$scope.uiConfig={calendar:{height:480,editable:!0,defaultView:"month",header:!1,eventRender:$scope.eventRender}},$scope.currentDate=moment().format("MMMM YYYY"),$scope.addEvent=function(){var start=new Date(y,m,d);$scope.events.push({title:"New Event",start:start,humanDate:moment(start).format("MMM DD")+" - "})},$scope.removeEvent=function(index){$scope.events.splice(index,1)},$scope.changeEventColor=function(index,name){$scope.events[index].className=name},$scope.changeView=function(view,calendar){cc[calendar].fullCalendar("changeView",view),$scope.currentDate=cc[calendar].fullCalendar("getView").title},$scope.prev=function(calendar){cc[calendar].fullCalendar("prev"),$scope.currentDate=cc[calendar].fullCalendar("getView").title},$scope.next=function(calendar){cc[calendar].fullCalendar("next"),$scope.currentDate=cc[calendar].fullCalendar("getView").title},$scope.today=function(calendar){cc[calendar].fullCalendar("today"),$scope.currentDate=cc[calendar].fullCalendar("getView").title}}])}();


!function(){"use strict";angular.module("app.cash-close",["app.service.sales","LocalStorageModule","app.constants"]).controller("CashCloseController",["$scope","$filter","$http","$modal","$interval","SalesService","localStorageService","$window","WS_URL",function($scope,$filter,$http,$modal,$timeout,SalesService,localStorageService,$window,WS_URL){function createToast(type,message){$scope.toasts.push({anim:"bouncyflip",type:type,msg:message})}function closeToast(index){$scope.toasts.splice(index,1)}var user_data=localStorageService.get("user_data");"admin"===user_data.type&&($window.location.href="./#/404"),$scope.sales_with_printing={cash:0,credit_card:0,check:0,down_payment:0,total:0},$scope.sales_without_printing={cash:0,credit_card:0,check:0,down_payment:0,total:0},$scope.sales_cancel_with_printing={cash:0,credit_card:0,check:0,down_payment:0,total:0},$scope.sales_cancel_without_printing={cash:0,credit_card:0,check:0,down_payment:0,total:0},$scope.disable_export=!0,$scope.total=0,$scope.positionModel="topRight",$scope.toasts=[],$scope.start_date=$filter("date")(Date.now(),"yyyy-MM-dd"),$scope.final_date=$filter("date")(Date.now(),"yyyy-MM-dd"),$scope.openStartDate=function($event){$event.preventDefault(),$event.stopPropagation(),$scope.opened_start=!0},$scope.openFinalDate=function($event){$event.preventDefault(),$event.stopPropagation(),$scope.opened_final=!0},$scope.generateCashClosing=function(){var params={company_id:user_data.company_id,start_date:$scope.start_date,final_date:$scope.final_date};SalesService.generateCashClosing(params).then(function(response){response.data.result?($scope.sales_with_printing=response.data.records.sales_with_printing,$scope.sales_without_printing=response.data.records.sales_without_printing,$scope.sales_cancel_with_printing=response.data.records.sales_cancel_with_printing,$scope.sales_cancel_without_printing=response.data.records.sales_cancel_without_printing,$scope.total=response.data.records.total,$scope.disable_export=!1,createToast("success","<strong>Éxito: </strong>"+response.data.message),$timeout(function(){closeToast(0)},3e3)):($scope.disable_export=!0,createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeToast(0)},3e3),$scope.sales_with_printing={cash:0,credit_card:0,check:0,down_payment:0,total:0},$scope.sales_without_printing={cash:0,credit_card:0,check:0,down_payment:0,total:0},$scope.sales_cancel_with_printing={cash:0,credit_card:0,check:0,down_payment:0,total:0},$scope.sales_cancel_without_printing={cash:0,credit_card:0,check:0,down_payment:0,total:0},$scope.total=0)},function(response){$scope.disable_export=!0,createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeToast(0)},3e3),$scope.sales_with_printing={cash:0,credit_card:0,check:0,down_payment:0,total:0},$scope.sales_without_printing={cash:0,credit_card:0,check:0,down_payment:0,total:0},$scope.sales_cancel_with_printing={cash:0,credit_card:0,check:0,down_payment:0,total:0},$scope.sales_cancel_without_printing={cash:0,credit_card:0,check:0,down_payment:0,total:0},$scope.total=0})},$scope.exportCashClosing=function(){$window.open(WS_URL+"sale/export/cash/close?company_id="+user_data.company_id+"&start_date="+$scope.start_date+"&final_date="+$scope.final_date,"_blank")}}])}();


!function(){"use strict";angular.module("app.companies",["app.service.companies","LocalStorageModule"]).controller("CompaniesController",["$scope","$filter","$http","$modal","$interval","CompaniesService","localStorageService","$window",function($scope,$filter,$http,$modal,$timeout,CompaniesService,localStorageService,$window){function loadDataTable(){CompaniesService.index().then(function(response){$scope.datas=response.data.records,$scope.search(),$scope.select($scope.currentPage)})}function createToast(type,message){$scope.toasts.push({anim:"bouncyflip",type:type,msg:message})}function closeAlert(index){$scope.toasts.splice(index,1)}"user"===localStorageService.get("user_data").type&&($window.location.href="./#/404"),$scope.datas=[],$scope.currentPageStores=[],$scope.searchKeywords="",$scope.filteredData=[],$scope.row="",$scope.numPerPageOpts=[5,10,25,50,100],$scope.numPerPage=$scope.numPerPageOpts[1],$scope.currentPage=1,$scope.positionModel="topRight",$scope.toasts=[];var modal;$scope.select=function(page){var start=(page-1)*$scope.numPerPage,end=start+$scope.numPerPage;$scope.currentPageStores=$scope.filteredData.slice(start,end)},$scope.onFilterChange=function(){$scope.select(1),$scope.currentPage=1,$scope.row=""},$scope.onNumPerPageChange=function(){$scope.select(1),$scope.currentPage=1},$scope.onOrderChange=function(){$scope.select(1),$scope.currentPage=1},$scope.search=function(){$scope.filteredData=$filter("filter")($scope.datas,$scope.searchKeywords),$scope.onFilterChange()},$scope.order=function(rowName){$scope.row!=rowName&&($scope.row=rowName,$scope.filteredData=$filter("orderBy")($scope.datas,rowName),$scope.onOrderChange())},loadDataTable(),$scope.saveData=function(company){"new"==$scope.action?CompaniesService.store(company).then(function(response){response.data.result?(loadDataTable(),modal.close(),createToast("success","<strong>Éxito: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)):(createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3))},function(response){createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)}):"update"==$scope.action?CompaniesService.update(company).then(function(response){response.data.result?(modal.close(),createToast("success","<strong>Éxito: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)):(createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3))},function(response){createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)}):"delete"==$scope.action&&CompaniesService.destroy(company.id).then(function(response){response.data.result?(loadDataTable(),modal.close(),createToast("success","<strong>Éxito: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)):(createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3))},function(response){createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)})},$scope.modalCreateOpen=function(){$scope.company={},$scope.action="new",modal=$modal.open({templateUrl:"views/app/companies-modal.html",scope:$scope,size:"md",resolve:function(){},windowClass:"default"})},$scope.modalEditOpen=function(data){$scope.action="update",$scope.company=data,modal=$modal.open({templateUrl:"views/app/companies-modal.html",scope:$scope,size:"md",resolve:function(){},windowClass:"default"})},$scope.modalDeleteOpen=function(data){$scope.action="delete",$scope.company=data,modal=$modal.open({templateUrl:"views/app/companies-modal.html",scope:$scope,size:"md",resolve:function(){},windowClass:"default"})},$scope.modalClose=function(){modal.close()}}])}();


!function(){"use strict";angular.module("app.customers",["app.service.customers","LocalStorageModule"]).controller("CustomersController",["$scope","$filter","$http","$modal","$interval","CustomersService","localStorageService",function($scope,$filter,$http,$modal,$timeout,CustomersService,localStorageService){function loadDataTable(){var params={company_id:user_data.company_id};CustomersService.index(params).then(function(response){$scope.datas=response.data.records,$scope.search(),$scope.select($scope.currentPage)})}function createToast(type,message){$scope.toasts.push({anim:"bouncyflip",type:type,msg:message})}function closeAlert(index){$scope.toasts.splice(index,1)}var user_data=localStorageService.get("user_data");"admin"===user_data.type&&($window.location.href="./#/404"),$scope.datas=[],$scope.currentPageStores=[],$scope.searchKeywords="",$scope.filteredData=[],$scope.row="",$scope.numPerPageOpts=[5,10,25,50,100],$scope.numPerPage=$scope.numPerPageOpts[1],$scope.currentPage=1,$scope.positionModel="topRight",$scope.toasts=[];var modal;$scope.select=function(page){var start=(page-1)*$scope.numPerPage,end=start+$scope.numPerPage;$scope.currentPageStores=$scope.filteredData.slice(start,end)},$scope.onFilterChange=function(){$scope.select(1),$scope.currentPage=1,$scope.row=""},$scope.onNumPerPageChange=function(){$scope.select(1),$scope.currentPage=1},$scope.onOrderChange=function(){$scope.select(1),$scope.currentPage=1},$scope.search=function(){$scope.filteredData=$filter("filter")($scope.datas,$scope.searchKeywords),$scope.onFilterChange()},$scope.order=function(rowName){$scope.row!=rowName&&($scope.row=rowName,$scope.filteredData=$filter("orderBy")($scope.datas,rowName),$scope.onOrderChange())},loadDataTable(),$scope.saveData=function(customer){"new"==$scope.action?(customer.company_id=user_data.company_id,CustomersService.store(customer).then(function(response){response.data.result?(loadDataTable(),modal.close(),createToast("success","<strong>Éxito: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)):(createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3))},function(response){createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)})):"update"==$scope.action?CustomersService.update(customer).then(function(response){response.data.result?(modal.close(),createToast("success","<strong>Éxito: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)):(createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3))},function(response){createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)}):"delete"==$scope.action&&CustomersService.destroy(customer.id).then(function(response){response.data.result?(loadDataTable(),modal.close(),createToast("success","<strong>Éxito: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)):(createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3))},function(response){createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)})},$scope.modalCreateOpen=function(){$scope.customer={},$scope.action="new",modal=$modal.open({templateUrl:"views/app/customers-modal.html",scope:$scope,size:"md",resolve:function(){},windowClass:"default"})},$scope.modalEditOpen=function(data){$scope.action="update",$scope.customer=data,modal=$modal.open({templateUrl:"views/app/customers-modal.html",scope:$scope,size:"md",resolve:function(){},windowClass:"default"})},$scope.modalDeleteOpen=function(data){$scope.action="delete",$scope.customer=data,modal=$modal.open({templateUrl:"views/app/customers-modal.html",scope:$scope,size:"md",resolve:function(){},windowClass:"default"})},$scope.modalClose=function(){modal.close()}}])}();


!function(){"use strict";angular.module("app.entries",["app.service.entries","app.service.products","LocalStorageModule"]).controller("EntriesController",["$scope","$filter","$http","$modal","$interval","EntriesService","ProductsService","localStorageService","$window",function($scope,$filter,$http,$modal,$timeout,EntriesService,ProductsService,localStorageService,$window){function loadDataTable(){var params={company_id:user_data.company_id};EntriesService.index(params).then(function(response){$scope.datas=response.data.records,$scope.search(),$scope.select($scope.currentPage)})}function loadProducts(){var params={company_id:user_data.company_id};ProductsService.index(params).then(function(response){$scope.products=response.data.records})}function createToast(type,message){$scope.toasts.push({anim:"bouncyflip",type:type,msg:message})}function closeAlert(index){$scope.toasts.splice(index,1)}var user_data=localStorageService.get("user_data");"admin"===user_data.type&&($window.location.href="./#/404"),$scope.datas=[],$scope.currentPageStores=[],$scope.searchKeywords="",$scope.filteredData=[],$scope.row="",$scope.numPerPageOpts=[5,10,25,50,100],$scope.numPerPage=$scope.numPerPageOpts[1],$scope.currentPage=1,$scope.positionModel="topRight",$scope.toasts=[],$scope.products=[];var modal;$scope.select=function(page){var start=(page-1)*$scope.numPerPage,end=start+$scope.numPerPage;$scope.currentPageStores=$scope.filteredData.slice(start,end)},$scope.onFilterChange=function(){$scope.select(1),$scope.currentPage=1,$scope.row=""},$scope.onNumPerPageChange=function(){$scope.select(1),$scope.currentPage=1},$scope.onOrderChange=function(){$scope.select(1),$scope.currentPage=1},$scope.search=function(){$scope.filteredData=$filter("filter")($scope.datas,$scope.searchKeywords),$scope.onFilterChange()},$scope.order=function(rowName){$scope.row!=rowName&&($scope.row=rowName,$scope.filteredData=$filter("orderBy")($scope.datas,rowName),$scope.onOrderChange())},loadDataTable(),loadProducts(),$scope.saveData=function(entry){"new"==$scope.action&&(entry.company_id=user_data.company_id,entry.user_id=user_data.id,EntriesService.store(entry).then(function(response){response.data.result?(loadDataTable(),modal.close(),createToast("success","<strong>Éxito: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)):(createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3))},function(response){createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)}))},$scope.modalCreateOpen=function(){$scope.entry={},$scope.action="new",modal=$modal.open({templateUrl:"views/app/entries-modal.html",scope:$scope,size:"md",resolve:function(){},windowClass:"default"})},$scope.modalEditOpen=function(data){$scope.action="update",$scope.entry=data,modal=$modal.open({templateUrl:"views/app/entries-modal.html",scope:$scope,size:"md",resolve:function(){},windowClass:"default"})},$scope.modalDeleteOpen=function(data){$scope.action="delete",$scope.entry=data,modal=$modal.open({templateUrl:"views/app/entries-modal.html",scope:$scope,size:"md",resolve:function(){},windowClass:"default"})},$scope.modalClose=function(){modal.close()}}])}();


!function(){angular.module("app.ctrls").controller("ImageCropCtrl",["$scope",function($scope){$scope.myImage="",$scope.myCroppedImage="",$scope.areaType="square";var handleFileSelect=function(evt){var file=evt.currentTarget.files[0],reader=new FileReader;reader.onload=function(evt){$scope.$apply(function($scope){$scope.myImage=evt.target.result})},reader.readAsDataURL(file)};angular.element(document.querySelector("#imageCropInput")).on("change",handleFileSelect)}])}();


!function(){"use strict";angular.module("login",["LocalStorageModule","ngRoute","ngAnimate","ngSanitize","ngAria","ngMaterial","oc.lazyLoad","ui.bootstrap","angular-loading-bar","FBAngular","app.ctrls","app.directives","app.ui.ctrls","app.ui.directives","app.form.ctrls","app.table.ctrls","app.email.ctrls","app.constants"]).controller("LoginController",["$scope","$http","$timeout","$window","localStorageService","API_URL",function($scope,$http,$timeout,$window,localStorageService,API_URL){function createToast(type,message){$scope.toasts.push({anim:"bouncyflip",type:type,msg:message})}function closeAlert(index){$scope.toasts.splice(index,1)}$scope.positionModel="topRight",$scope.toasts=[],localStorageService.get("user_data")&&($window.location.href="./#/dashboard"),$scope.signIn=function(data){$http({method:"POST",url:API_URL+"login",data:data}).then(function(response){response.data.result?(localStorageService.set("user_data",response.data.records),createToast("success","<strong>Éxito: </strong>"+response.data.message),$window.location.href="./#/dashboard"):(createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3))},function(response){createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)})}}])}();


!function(){angular.module("app.ctrls").controller("dividerDemo",["$scope",function($scope){$scope.messages=[{face:"/img/list/60.jpeg",what:"Brunch this weekend?",who:"Min Li Chan",when:"3:08PM",notes:" I'll be in your neighborhood doing errands"},{face:"/img/list/60.jpeg",what:"Brunch this weekend?",who:"Min Li Chan",when:"3:08PM",notes:" I'll be in your neighborhood doing errands"},{face:"/img/list/60.jpeg",what:"Brunch this weekend?",who:"Min Li Chan",when:"3:08PM",notes:" I'll be in your neighborhood doing errands"}]}]).controller("SubheaderCtrl",["$scope",function($scope){$scope.messages=[{face:"images/sample/1.jpg",what:"Brunch this weekend?",who:"Min Li Chan",when:"3:08PM",notes:" I'll be in your neighborhood doing errands"},{face:"images/sample/2.jpg",what:"Brunch this weekend?",who:"Min Li Chan",when:"3:08PM",notes:" I'll be in your neighborhood doing errands"},{face:"images/sample/3.jpg",what:"Brunch this weekend?",who:"Min Li Chan",when:"3:08PM",notes:" I'll be in your neighborhood doing errands"},{face:"images/sample/4.jpg",what:"Brunch this weekend?",who:"Min Li Chan",when:"3:08PM",notes:" I'll be in your neighborhood doing errands"},{face:"images/sample/5.jpg",what:"Brunch this weekend?",who:"Min Li Chan",when:"3:08PM",notes:" I'll be in your neighborhood doing errands"},{face:"images/sample/6.jpg",what:"Brunch this weekend?",who:"Min Li Chan",when:"3:08PM",notes:" I'll be in your neighborhood doing errands"},{face:"images/sample/7.jpg",what:"Brunch this weekend?",who:"Min Li Chan",when:"3:08PM",notes:" I'll be in your neighborhood doing errands"},{face:"images/sample/3.jpg",what:"Brunch this weekend?",who:"Min Li Chan",when:"3:08PM",notes:" I'll be in your neighborhood doing errands"},{face:"images/sample/4.jpg",what:"Brunch this weekend?",who:"Min Li Chan",when:"3:08PM",notes:" I'll be in your neighborhood doing errands"},{face:"images/sample/6.jpg",what:"Brunch this weekend?",who:"Min Li Chan",when:"3:08PM",notes:" I'll be in your neighborhood doing errands"}]}]).controller("progressCircularDemo",["$scope","$interval",function($scope,$interval){$scope.mode="query",$scope.determinateValue=30,$interval(function(){$scope.determinateValue+=1,$scope.determinateValue>100&&($scope.determinateValue=30)},100,0,!0)}]).controller("progressLinearDemo",["$scope","$interval",function($scope,$interval){$scope.mode="query",$scope.determinateValue=30,$scope.determinateValue2=30,$interval(function(){$scope.determinateValue+=1,$scope.determinateValue2+=1.5,$scope.determinateValue>100&&($scope.determinateValue=30,$scope.determinateValue2=30)},100,0,!0),$interval(function(){$scope.mode="query"==$scope.mode?"determinate":"query"},7200,0,!0)}]).controller("MdDialogDemo",["$scope","$mdDialog",function($scope,$mdDialog){$scope.alert="",$scope.showAlert=function(ev){$mdDialog.show($mdDialog.alert().title("This is an alert title").content("You can specify some description text in here.").ariaLabel("Alert Dialog Demo").ok("Got it!").targetEvent(ev))},$scope.showConfirm=function(ev){var confirm=$mdDialog.confirm().title("Would you like to delete your debt?").content("All of the banks have agreed to forgive you your debts.").ariaLabel("Lucky day").ok("Please do it!").cancel("Sounds like a scam").targetEvent(ev);$mdDialog.show(confirm).then(function(){$scope.alert="You decided to get rid of your debt."},function(){$scope.alert="You decided to keep your debt."})}}]).controller("MdSliderDemo",["$scope",function($scope){$scope.color={red:Math.floor(255*Math.random()),green:Math.floor(255*Math.random()),blue:Math.floor(255*Math.random())},$scope.rating1=3,$scope.rating2=2,$scope.rating3=4,$scope.disabled1=0,$scope.disabled2=70}]).controller("MdCheckboxDemo",["$scope",function($scope){$scope.data={},$scope.data.cb1=!0,$scope.data.cb2=!1,$scope.data.cb3=!1,$scope.data.cb4=!1,$scope.data.cb5=!1}]).controller("MdRadioSwitchDemo",["$scope",function($scope){$scope.data={group1:"Banana",cb1:!0,cb4:!0,cb5:!1}}]).controller("MdInputDemo",["$scope",function($scope){$scope.user={title:"Developer",email:"ipsum@lorem.com",firstName:"",lastName:"",company:"Google",address:"1600 Amphitheatre Pkwy",city:"Mountain View",state:"CA",biography:"Loves kittens, snowboarding, and can type at 130 WPM.\n\nAnd rumor has it she bouldered up Castle Craig!",postalCode:"94043"}}]).config(["$mdThemingProvider",function($mdThemingProvider){$mdThemingProvider.theme("docs-dark","default").primaryPalette("yellow").dark()}])}();


!function(){"use strict";angular.module("app.products",["app.service.products","LocalStorageModule","app.constants"]).controller("ProductsController",["$scope","$filter","$http","$modal","$interval","ProductsService","localStorageService","$window","WS_URL",function($scope,$filter,$http,$modal,$timeout,ProductsService,localStorageService,$window,WS_URL){function loadDataTable(){var params={company_id:user_data.company_id};ProductsService.index(params).then(function(response){$scope.datas=response.data.records,$scope.search(),$scope.select($scope.currentPage)})}function createToast(type,message){$scope.toasts.push({anim:"bouncyflip",type:type,msg:message})}function closeAlert(index){$scope.toasts.splice(index,1)}var user_data=localStorageService.get("user_data");"admin"===user_data.type&&($window.location.href="./#/404"),$scope.datas=[],$scope.currentPageStores=[],$scope.searchKeywords="",$scope.filteredData=[],$scope.row="",$scope.numPerPageOpts=[5,10,25,50,100],$scope.numPerPage=$scope.numPerPageOpts[1],$scope.currentPage=1,$scope.positionModel="topRight",$scope.toasts=[],$scope.show_input=1!=user_data.company.stock,$scope.file=null;var modal;$scope.select=function(page){var start=(page-1)*$scope.numPerPage,end=start+$scope.numPerPage;$scope.currentPageStores=$scope.filteredData.slice(start,end)},$scope.onFilterChange=function(){$scope.select(1),$scope.currentPage=1,$scope.row=""},$scope.onNumPerPageChange=function(){$scope.select(1),$scope.currentPage=1},$scope.onOrderChange=function(){$scope.select(1),$scope.currentPage=1},$scope.search=function(){$scope.filteredData=$filter("filter")($scope.datas,$scope.searchKeywords),$scope.onFilterChange()},$scope.order=function(rowName){$scope.row!=rowName&&($scope.row=rowName,$scope.filteredData=$filter("orderBy")($scope.datas,rowName),$scope.onOrderChange())},loadDataTable(),$scope.exportProductsExcel=function(){$window.open(WS_URL+"products/export/excel?company_id="+user_data.company_id,"_blank")},$scope.saveData=function(product){"new"==$scope.action?(product.company_id=user_data.company_id,product.stock=user_data.company.stock,ProductsService.store(product).then(function(response){response.data.result?(loadDataTable(),modal.close(),createToast("success","<strong>Éxito: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)):(createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3))},function(response){createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)})):"update"==$scope.action?ProductsService.update(product).then(function(response){response.data.result?(modal.close(),createToast("success","<strong>Éxito: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)):(createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3))},function(response){createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)}):"delete"==$scope.action&&ProductsService.destroy(product.id).then(function(response){response.data.result?(loadDataTable(),modal.close(),createToast("success","<strong>Éxito: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)):(createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3))},function(response){createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)})},$scope.uploadFile=function(){console.log("file is "),console.dir(file)},$scope.modalCreateOpen=function(){$scope.product={},$scope.action="new",modal=$modal.open({templateUrl:"views/app/products-modal.html",scope:$scope,size:"md",resolve:function(){},windowClass:"default"})},$scope.modalEditOpen=function(data){$scope.action="update",$scope.product=data,modal=$modal.open({templateUrl:"views/app/products-modal.html",scope:$scope,size:"md",resolve:function(){},windowClass:"default"})},$scope.modalDeleteOpen=function(data){$scope.action="delete",$scope.product=data,modal=$modal.open({templateUrl:"views/app/products-modal.html",scope:$scope,size:"md",resolve:function(){},windowClass:"default"})},$scope.modalUploadOpen=function(){$scope.product={},modal=$modal.open({templateUrl:"views/app/products-modal-upload.html",scope:$scope,size:"md",resolve:function(){},windowClass:"default"})},$scope.modalClose=function(){modal.close()}}]).directive("fileModel",["$parse",function($parse){return{restrict:"A",link:function(scope,element,attrs){var model=$parse(attrs.fileModel),modelSetter=model.assign;element.bind("change",function(){scope.$apply(function(){modelSetter(scope,element[0].files[0])})})}}}]).directive("validFile",function(){return{require:"ngModel",link:function(scope,el,attrs,ngModel){el.bind("change",function(){scope.$apply(function(){ngModel.$setViewValue(el.val()),ngModel.$render()})})}}})}();


!function(){"use strict";angular.module("app.report-inventory",["app.service.products","LocalStorageModule","app.constants"]).controller("ReportInventoryController",["$scope","$filter","$interval","$window","ProductsService","localStorageService","WS_URL",function($scope,$filter,$timeout,$window,ProductsService,localStorageService,WS_URL){function loadDataTable(){var params={company_id:user_data.company_id};ProductsService.index(params).then(function(response){$scope.datas=response.data.records,$scope.search(),$scope.select($scope.currentPage),$scope.disable_export=!1})}var user_data=localStorageService.get("user_data");"admin"==user_data.type&&($window.location.href="./#/404"),$scope.datas=[],$scope.currentPageStores=[],$scope.searchKeywords="",$scope.filteredData=[],$scope.row="",$scope.numPerPageOpts=[5,10,25,50,100],$scope.numPerPage=$scope.numPerPageOpts[1],$scope.currentPage=1,$scope.positionModel="topRight",$scope.toasts=[],$scope.disable_export=!0,$scope.select=function(page){var start=(page-1)*$scope.numPerPage,end=start+$scope.numPerPage;$scope.currentPageStores=$scope.filteredData.slice(start,end)},$scope.onFilterChange=function(){$scope.select(1),$scope.currentPage=1,$scope.row=""},$scope.onNumPerPageChange=function(){$scope.select(1),$scope.currentPage=1},$scope.onOrderChange=function(){$scope.select(1),$scope.currentPage=1},$scope.search=function(){$scope.filteredData=$filter("filter")($scope.datas,$scope.searchKeywords),$scope.onFilterChange()},$scope.order=function(rowName){$scope.row!=rowName&&($scope.row=rowName,$scope.filteredData=$filter("orderBy")($scope.datas,rowName),$scope.onOrderChange())},loadDataTable(),$scope.exportSalesForDate=function(){$window.open(WS_URL+"products/export/excel?company_id="+user_data.company_id,"_blank")}}])}();


!function(){"use strict";angular.module("app.report-salefordate",["app.service.sales","LocalStorageModule","app.constants"]).controller("ReportSaleForDateController",["$scope","$filter","$http","$modal","$interval","$window","SalesService","localStorageService","WS_URL",function($scope,$filter,$http,$modal,$timeout,$window,SalesService,localStorageService,WS_URL){function createToast(type,message){$scope.toasts.push({anim:"bouncyflip",type:type,msg:message})}function closeToast(index){$scope.toasts.splice(index,1)}var user_data=localStorageService.get("user_data");"admin"==user_data.type&&($window.location.href="./#/404"),$scope.datas=[],$scope.currentPageStores=[],$scope.searchKeywords="",$scope.filteredData=[],$scope.row="",$scope.numPerPageOpts=[5,10,25,50,100],$scope.numPerPage=$scope.numPerPageOpts[1],$scope.currentPage=1,$scope.positionModel="topRight",$scope.toasts=[],$scope.disable_export=!0,$scope.start_date=$filter("date")(Date.now(),"yyyy-MM-dd"),$scope.final_date=$filter("date")(Date.now(),"yyyy-MM-dd"),$scope.select=function(page){var start=(page-1)*$scope.numPerPage,end=start+$scope.numPerPage;$scope.currentPageStores=$scope.filteredData.slice(start,end)},$scope.onFilterChange=function(){$scope.select(1),$scope.currentPage=1,$scope.row=""},$scope.onNumPerPageChange=function(){$scope.select(1),$scope.currentPage=1},$scope.onOrderChange=function(){$scope.select(1),$scope.currentPage=1},$scope.search=function(){$scope.filteredData=$filter("filter")($scope.datas,$scope.searchKeywords),$scope.onFilterChange()},$scope.order=function(rowName){$scope.row!=rowName&&($scope.row=rowName,$scope.filteredData=$filter("orderBy")($scope.datas,rowName),$scope.onOrderChange())},$scope.openStartDate=function($event){$event.preventDefault(),$event.stopPropagation(),$scope.opened_start=!0},$scope.openFinalDate=function($event){$event.preventDefault(),$event.stopPropagation(),$scope.opened_final=!0},$scope.generateSalesForDate=function(){var sd=new Date($scope.start_date);if(new Date($scope.final_date)>=sd){var params={company_id:user_data.company_id,start_date:$scope.start_date,final_date:$scope.final_date};SalesService.salesForDate(params).then(function(response){response.data.result?($scope.datas=response.data.records,$scope.search(),$scope.select($scope.currentPage),$scope.disable_export=!1,createToast("success","<strong>Éxito: </strong>"+response.data.message),$timeout(function(){closeToast(0)},3e3)):($scope.disable_export=!0,createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeToast(0)},3e3))},function(response){$scope.disable_export=!0,createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)})}else $scope.disable_export=!0,createToast("danger","<strong>Error: </strong> La fecha de inicio no puede ser mayor a la fecha de fin"),$timeout(function(){closeToast(0)},3e3)},$scope.exportSalesForDate=function(){$window.open(WS_URL+"sales/export/for/date?company_id="+user_data.company_id+"&start_date="+$scope.start_date+"&final_date="+$scope.final_date,"_blank")}}])}();


!function(){"use strict";angular.module("app.sales-list",["app.service.sales-list","LocalStorageModule"]).controller("SalesListController",["$scope","$filter","$http","$modal","$interval","SalesListService","localStorageService","$window",function($scope,$filter,$http,$modal,$timeout,SalesListService,localStorageService,$window){function loadDataTable(){var params={company_id:user_data.company_id};SalesListService.index(params).then(function(response){$scope.datas=response.data.records,$scope.search(),$scope.select($scope.currentPage)})}function createToast(type,message){$scope.toasts.push({anim:"bouncyflip",type:type,msg:message})}function closeAlert(index){$scope.toasts.splice(index,1)}function Unidades(num){switch(num){case 1:return"UN";case 2:return"DOS";case 3:return"TRES";case 4:return"CUATRO";case 5:return"CINCO";case 6:return"SEIS";case 7:return"SIETE";case 8:return"OCHO";case 9:return"NUEVE"}return""}function Decenas(num){var decena=Math.floor(num/10),unidad=num-10*decena;switch(decena){case 1:switch(unidad){case 0:return"DIEZ";case 1:return"ONCE";case 2:return"DOCE";case 3:return"TRECE";case 4:return"CATORCE";case 5:return"QUINCE";default:return"DIECI"+Unidades(unidad)}case 2:switch(unidad){case 0:return"VEINTE";default:return"VEINTI"+Unidades(unidad)}case 3:return DecenasY("TREINTA",unidad);case 4:return DecenasY("CUARENTA",unidad);case 5:return DecenasY("CINCUENTA",unidad);case 6:return DecenasY("SESENTA",unidad);case 7:return DecenasY("SETENTA",unidad);case 8:return DecenasY("OCHENTA",unidad);case 9:return DecenasY("NOVENTA",unidad);case 0:return Unidades(unidad)}}function DecenasY(strSin,numUnidades){return numUnidades>0?strSin+" Y "+Unidades(numUnidades):strSin}function Centenas(num){var centenas=Math.floor(num/100),decenas=num-100*centenas;switch(centenas){case 1:return decenas>0?"CIENTO "+Decenas(decenas):"CIEN";case 2:return"DOSCIENTOS "+Decenas(decenas);case 3:return"TRESCIENTOS "+Decenas(decenas);case 4:return"CUATROCIENTOS "+Decenas(decenas);case 5:return"QUINIENTOS "+Decenas(decenas);case 6:return"SEISCIENTOS "+Decenas(decenas);case 7:return"SETECIENTOS "+Decenas(decenas);case 8:return"OCHOCIENTOS "+Decenas(decenas);case 9:return"NOVECIENTOS "+Decenas(decenas)}return Decenas(decenas)}function Seccion(num,divisor,strSingular,strPlural){var cientos=Math.floor(num/divisor),resto=num-cientos*divisor,letras="";return cientos>0&&(letras=cientos>1?Centenas(cientos)+" "+strPlural:strSingular),resto>0&&(letras+=""),letras}function Miles(num){var divisor=1e3,cientos=Math.floor(num/divisor),resto=num-cientos*divisor,strMiles=Seccion(num,divisor,"UN MIL","MIL"),strCentenas=Centenas(resto);return""==strMiles?strCentenas:strMiles+" "+strCentenas}function Millones(num){var divisor=1e6,cientos=Math.floor(num/divisor),resto=num-cientos*divisor,strMillones=Seccion(num,divisor,"UN MILLON DE","MILLONES DE"),strMiles=Miles(resto);return""==strMillones?strMiles:strMillones+" "+strMiles}function NumeroALetras(num){var data={numero:num,enteros:Math.floor(num),centavos:Math.round(100*num)-100*Math.floor(num),letrasCentavos:"",letrasMonedaPlural:"QUETZALES",letrasMonedaSingular:"QUETZAL",letrasMonedaCentavoPlural:"CENTAVOS",letrasMonedaCentavoSingular:"CENTAVO"};return data.centavos>0&&(data.letrasCentavos="CON "+function(){return 1==data.centavos?Millones(data.centavos)+" "+data.letrasMonedaCentavoSingular:Millones(data.centavos)+" "+data.letrasMonedaCentavoPlural}()),0==data.enteros?"CERO "+data.letrasMonedaPlural+" "+data.letrasCentavos:1==data.enteros?Millones(data.enteros)+" "+data.letrasMonedaSingular+" "+data.letrasCentavos:Millones(data.enteros)+" "+data.letrasMonedaPlural+" "+data.letrasCentavos}var user_data=localStorageService.get("user_data");"admin"===user_data.type&&($window.location.href="./#/404"),$scope.datas=[],$scope.currentPageStores=[],$scope.searchKeywords="",$scope.filteredData=[],$scope.row="",$scope.numPerPageOpts=[5,10,25,50,100],$scope.numPerPage=$scope.numPerPageOpts[1],$scope.currentPage=1,$scope.positionModel="topRight",$scope.toasts=[];var modal;$scope.select=function(page){var start=(page-1)*$scope.numPerPage,end=start+$scope.numPerPage;$scope.currentPageStores=$scope.filteredData.slice(start,end)},$scope.onFilterChange=function(){$scope.select(1),$scope.currentPage=1,$scope.row=""},$scope.onNumPerPageChange=function(){$scope.select(1),$scope.currentPage=1},$scope.onOrderChange=function(){$scope.select(1),$scope.currentPage=1},$scope.search=function(){$scope.filteredData=$filter("filter")($scope.datas,$scope.searchKeywords),$scope.onFilterChange()},$scope.order=function(rowName){$scope.row!=rowName&&($scope.row=rowName,$scope.filteredData=$filter("orderBy")($scope.datas,rowName),$scope.onOrderChange())},loadDataTable(),$scope.saveData=function(sale){if("cancel"==$scope.action){var data={id:sale.id,detail:angular.toJson(sale.detail)};SalesListService.cancelSale(data).then(function(response){response.data.result?(loadDataTable(),modal.close(),createToast("success","<strong>Éxito: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)):(createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3))},function(response){createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)})}},$scope.printSale=function(){modal.close();var printContents=document.getElementById("imprimir-seccion").innerHTML,popupWin=window.open("","_blank","width=350,height=400");popupWin.document.open(),popupWin.document.write('<html><head></head><body onload="window.print()">'+printContents+"</body></html>"),popupWin.document.close()},$scope.modalDetailOpen=function(item){$scope.action="detail",$scope.dataModal={},$scope.dataModal.correlative=item.correlative,$scope.dataModal.customer_name=item.customer_name,$scope.dataModal.customer_direction=item.customer_direction,$scope.dataModal.customer_nit=item.customer_nit,$scope.dataModal.date=$filter("date")(new Date(item.created_at),"dd/MM/yyyy"),$scope.dataModal.total=$filter("number")(item.total,2),$scope.dataModal.letters=NumeroALetras($scope.dataModal.total);var detalles=9-item.detail.length;$scope.dataModal.detail=[],angular.forEach(item.detail,function(value,key){$scope.dataModal.detail.push(value)});for(var i=0;i<detalles;i++)$scope.dataModal.detail.push({subtotal:"|"});modal=$modal.open({templateUrl:"views/app/sales-list-datail.html",scope:$scope,size:"lg",resolve:function(){},windowClass:"default"})},$scope.modalCancelSaleOpen=function(item){$scope.sale=item,$scope.action="cancel",modal=$modal.open({templateUrl:"views/app/sales-list-datail.html",scope:$scope,size:"md",resolve:function(){},windowClass:"default"})},$scope.modalClose=function(){modal.close()}}])}();


!function(){"use strict";angular.module("app.sales",["app.service.products","app.service.sales","app.service.customers","app.service.salesman","LocalStorageModule","ngSanitize"]).controller("SalesController",["$scope","$filter","$http","$modal","$interval","ProductsService","SalesService","CustomersService","SalesmanService","localStorageService","$window",function($scope,$filter,$http,$modal,$timeout,ProductsService,SalesService,CustomersService,SalesmanService,localStorageService,$window){function checkSaleData(){var data_sale=localStorageService.get("data_sale");data_sale&&($scope.customer=data_sale.customer,$scope.products=data_sale.products,$scope.total=data_sale.total,$scope.nit_section=0,$scope.invoice_section=1,$scope.enable_print=!1)}function loadProducts(){var params={company_id:$scope.user_data.company_id};ProductsService.index(params).then(function(response){$scope.product_list=response.data.records})}function loadSalesman(){var params={company_id:$scope.user_data.company_id};SalesmanService.index(params).then(function(response){$scope.salesman_list=response.data.records})}function createToast(type,message){$scope.toasts.push({anim:"bouncyflip",type:type,msg:message})}function closeAlert(index){$scope.toasts.splice(index,1)}function createCustomer(customer){$scope.customer=customer,$scope.action="new",modal=$modal.open({templateUrl:"views/app/customers-modal.html",scope:$scope,size:"md",resolve:function(){},windowClass:"default"})}function Unidades(num){switch(num){case 1:return"UN";case 2:return"DOS";case 3:return"TRES";case 4:return"CUATRO";case 5:return"CINCO";case 6:return"SEIS";case 7:return"SIETE";case 8:return"OCHO";case 9:return"NUEVE"}return""}function Decenas(num){var decena=Math.floor(num/10),unidad=num-10*decena;switch(decena){case 1:switch(unidad){case 0:return"DIEZ";case 1:return"ONCE";case 2:return"DOCE";case 3:return"TRECE";case 4:return"CATORCE";case 5:return"QUINCE";default:return"DIECI"+Unidades(unidad)}case 2:switch(unidad){case 0:return"VEINTE";default:return"VEINTI"+Unidades(unidad)}case 3:return DecenasY("TREINTA",unidad);case 4:return DecenasY("CUARENTA",unidad);case 5:return DecenasY("CINCUENTA",unidad);case 6:return DecenasY("SESENTA",unidad);case 7:return DecenasY("SETENTA",unidad);case 8:return DecenasY("OCHENTA",unidad);case 9:return DecenasY("NOVENTA",unidad);case 0:return Unidades(unidad)}}function DecenasY(strSin,numUnidades){return numUnidades>0?strSin+" Y "+Unidades(numUnidades):strSin}function Centenas(num){var centenas=Math.floor(num/100),decenas=num-100*centenas;switch(centenas){case 1:return decenas>0?"CIENTO "+Decenas(decenas):"CIEN";case 2:return"DOSCIENTOS "+Decenas(decenas);case 3:return"TRESCIENTOS "+Decenas(decenas);case 4:return"CUATROCIENTOS "+Decenas(decenas);case 5:return"QUINIENTOS "+Decenas(decenas);case 6:return"SEISCIENTOS "+Decenas(decenas);case 7:return"SETECIENTOS "+Decenas(decenas);case 8:return"OCHOCIENTOS "+Decenas(decenas);case 9:return"NOVECIENTOS "+Decenas(decenas)}return Decenas(decenas)}function Seccion(num,divisor,strSingular,strPlural){var cientos=Math.floor(num/divisor),resto=num-cientos*divisor,letras="";return cientos>0&&(letras=cientos>1?Centenas(cientos)+" "+strPlural:strSingular),resto>0&&(letras+=""),letras}function Miles(num){var divisor=1e3,cientos=Math.floor(num/divisor),resto=num-cientos*divisor,strMiles=Seccion(num,divisor,"UN MIL","MIL"),strCentenas=Centenas(resto);return""==strMiles?strCentenas:strMiles+" "+strCentenas}function Millones(num){var divisor=1e6,cientos=Math.floor(num/divisor),resto=num-cientos*divisor,strMillones=Seccion(num,divisor,"UN MILLON DE","MILLONES DE"),strMiles=Miles(resto);return""==strMillones?strMiles:strMillones+" "+strMiles}function NumeroALetras(num){var data={numero:num,enteros:Math.floor(num),centavos:Math.round(100*num)-100*Math.floor(num),letrasCentavos:"",letrasMonedaPlural:"QUETZALES",letrasMonedaSingular:"QUETZAL",letrasMonedaCentavoPlural:"CENTAVOS",letrasMonedaCentavoSingular:"CENTAVO"};return data.centavos>0&&(data.letrasCentavos="CON "+function(){return 1==data.centavos?Millones(data.centavos)+" "+data.letrasMonedaCentavoSingular:Millones(data.centavos)+" "+data.letrasMonedaCentavoPlural}()),0==data.enteros?"CERO "+data.letrasMonedaPlural+" "+data.letrasCentavos:1==data.enteros?Millones(data.enteros)+" "+data.letrasMonedaSingular+" "+data.letrasCentavos:Millones(data.enteros)+" "+data.letrasMonedaPlural+" "+data.letrasCentavos}$scope.user_data=localStorageService.get("user_data"),"admin"===$scope.user_data.type&&($window.location.href="./#/404"),$scope.positionModel="topRight",$scope.today=new Date,$scope.toasts=[],$scope.nit_section=1,$scope.invoice_section=0,$scope.customer={},$scope.products=[],$scope.product_list=[],$scope.salesman_list=[],$scope.total=0,$scope.show_input=0,$scope.invoice={payment:"cash",print:!0},$scope.enable_add_product=!0,$scope.enable_print=!0;var modal,saleModal;checkSaleData(),loadProducts(),loadSalesman(),$scope.cancelSale=function(){if(localStorageService.remove("data_sale"),$scope.nit_section=1,$scope.invoice_section=0,$scope.customer={},$scope.total=0,$scope.enable_print=!0,$scope.enable_add_product=!0,$scope.products.length>0){var params={products:angular.toJson($scope.products)};ProductsService.backProductStock(params).then(function(response){response.data.result?($scope.products=[],createToast("success","<strong>Éxito: </strong>Venta cancelada correctamente con devolución de existencias"),$timeout(function(){closeAlert(0)},3e3)):(createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3))},function(response){createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)})}else $scope.products=[],createToast("success","<strong>Éxito: </strong>Venta cancelada correctamente"),$timeout(function(){closeAlert(0)},3e3)},$scope.checkCustomer=function(customer){CustomersService.searchCustomer(customer).then(function(response){if(response.data.result){$scope.customer=response.data.records,$scope.nit_section=0,$scope.invoice_section=1;var data_sale={salesman_name:$scope.seller,customer:$scope.customer,products:$scope.products,total:$scope.total};localStorageService.set("data_sale",data_sale),createToast("success","<strong>Éxito: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)}else createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3),createCustomer(customer)},function(response){createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3),createCustomer(customer)})},$scope.searchProduct=function(product){product.company_id=$scope.user_data.company_id,ProductsService.searchProduct(product).then(function(response){response.data.result?($scope.product.id=response.data.records.id,$scope.product.param=response.data.records.description,$scope.product.price=response.data.records.price_sale,$scope.product.internal_code=response.data.records.internal_code,$scope.product.quantity=1,$scope.enable_add_product=!1,createToast("success","<strong>Éxito: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)):(createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3))},function(response){createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)})},$scope.addProduct=function(product){ProductsService.checkProductStock(product).then(function(response){response.data.result?ProductsService.remainProductStock(product).then(function(response){if(response.data.result){$scope.enable_print=!1;var subtotal=product.quantity*product.price,data={id:product.id,internal_code:product.internal_code,description:product.param,quantity:product.quantity,unit_price:product.price,subtotal:subtotal};$scope.products.push(data),$scope.total=$scope.total+subtotal,$scope.product={};var data_sale={salesman_name:$scope.seller,customer:$scope.customer,products:$scope.products,total:$scope.total};localStorageService.set("data_sale",data_sale),$scope.enable_add_product=!0}else createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)},function(response){createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)}):(createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3))},function(response){createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)})},$scope.saveSale=function(){var data_sale=localStorageService.get("data_sale");saleModal=localStorageService.get("data_sale"),data_sale.user_id=$scope.user_data.id,data_sale.company_id=$scope.user_data.company_id,data_sale.method_payment=$scope.invoice.payment,data_sale.invoice=$scope.invoice.print,$scope.seller&&(data_sale.salesman_id=$scope.seller.id,data_sale.salesman_name=$scope.seller.name);var data={};data.data_sale=angular.toJson(data_sale),SalesService.saveSale(data).then(function(response){response.data.result?(saleModal.correlative=response.data.records.correlative,saleModal.date=response.data.records.created_at,1==$scope.invoice.print&&$scope.modalPrintSale(),localStorageService.remove("data_sale"),$scope.nit_section=1,$scope.invoice_section=0,$scope.customer={},$scope.products=[],$scope.total=0,createToast("success","<strong>Éxito: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)):(createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3))},function(response){console.log(response.data.message),createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)})},$scope.printSale=function(){modal.close();var printContents=document.getElementById("imprimir-seccion").innerHTML,popupWin=window.open("","_blank","width=350,height=400");popupWin.document.open(),popupWin.document.write('<html><head></head><body onload="window.print()">'+printContents+"</body></html>"),popupWin.document.close()},$scope.modalPrintSale=function(){console.log(saleModal),$scope.dataModal={},$scope.dataModal.correlative=saleModal.correlative,$scope.dataModal.customer_name=saleModal.customer.name,$scope.dataModal.customer_direction=saleModal.customer.direction,$scope.dataModal.customer_nit=saleModal.customer.nit,$scope.dataModal.date=$filter("date")(new Date(saleModal.date),"dd/MM/yyyy"),$scope.dataModal.total=$filter("number")(saleModal.total,2),$scope.dataModal.letters=NumeroALetras($scope.dataModal.total);var detalles=9-saleModal.products.length;$scope.dataModal.detail=[],angular.forEach(saleModal.products,function(value,key){$scope.dataModal.detail.push(value)});for(var i=0;i<detalles;i++)$scope.dataModal.detail.push({subtotal:"|"});modal=$modal.open({templateUrl:"views/app/sales-modal.html",scope:$scope,size:"md",resolve:function(){},windowClass:"default"})},$scope.saveData=function(customer){"new"==$scope.action&&(customer.company_id=$scope.user_data.company_id,CustomersService.store(customer).then(function(response){if(response.data.result){modal.close(),$scope.customer=response.data.records,$scope.nit_section=0,$scope.invoice_section=1;var data_sale={salesman_name:$scope.seller,customer:$scope.customer,products:$scope.products,total:$scope.total};localStorageService.set("data_sale",data_sale),createToast("success","<strong>Éxito: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)}else createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)},function(response){createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)}))},$scope.modalClose=function(){modal.close()}}]).directive("myEnter",function(){return function(scope,element,attrs){element.bind("keydown keypress",function(event){13===event.which&&(scope.$apply(function(){scope.$eval(attrs.myEnter)}),event.preventDefault())})}}).directive("myDatalist",["$sce",function($sce){return{restrict:"AE",require:"?ngModel",template:'<ng-form name="dlTest"><input list="dl" ng-model="choosen" class="form-control"><datalist id="dl"><select><option ng-repeat="opt in list" label="{{opt.description}} ({{opt.bar_code}})">{{opt.internal_code}}</option></select></datalist></ng-form>',replace:!1,scope:{list:"="},link:function(scope,element,attrs,ngModel){!ngModel||scope.list.length<=0||(scope.choosen="",scope.$watch("choosen",function(val,old){ngModel.$setViewValue(val)}))}}}])}();


!function(){"use strict";angular.module("app.salesman",["app.service.salesman","LocalStorageModule"]).controller("SalesmanController",["$scope","$filter","$http","$modal","$interval","SalesmanService","localStorageService",function($scope,$filter,$http,$modal,$timeout,SalesmanService,localStorageService){function loadDataTable(){var params={company_id:user_data.company_id};SalesmanService.index(params).then(function(response){$scope.datas=response.data.records,$scope.search(),$scope.select($scope.currentPage)})}function createToast(type,message){$scope.toasts.push({anim:"bouncyflip",type:type,msg:message})}function closeToast(index){$scope.toasts.splice(index,1)}var user_data=localStorageService.get("user_data");"admin"===user_data.type&&($window.location.href="./#/404"),$scope.datas=[],$scope.currentPageStores=[],$scope.searchKeywords="",$scope.filteredData=[],$scope.row="",$scope.numPerPageOpts=[5,10,25,50,100],$scope.numPerPage=$scope.numPerPageOpts[1],$scope.currentPage=1,$scope.positionModel="topRight",$scope.toasts=[];var modal;$scope.select=function(page){var start=(page-1)*$scope.numPerPage,end=start+$scope.numPerPage;$scope.currentPageStores=$scope.filteredData.slice(start,end)},$scope.onFilterChange=function(){$scope.select(1),$scope.currentPage=1,$scope.row=""},$scope.onNumPerPageChange=function(){$scope.select(1),$scope.currentPage=1},$scope.onOrderChange=function(){$scope.select(1),$scope.currentPage=1},$scope.search=function(){$scope.filteredData=$filter("filter")($scope.datas,$scope.searchKeywords),$scope.onFilterChange()},$scope.order=function(rowName){$scope.row!==rowName&&($scope.row=rowName,$scope.filteredData=$filter("orderBy")($scope.datas,rowName),$scope.onOrderChange())},loadDataTable(),$scope.saveData=function(salesman){"new"===$scope.action?(salesman.company_id=user_data.company_id,SalesmanService.store(salesman).then(function(response){response.data.result?(loadDataTable(),modal.close(),createToast("success","<strong>Éxito: </strong>"+response.data.message),$timeout(function(){closeToast(0)},3e3)):(createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeToast(0)},3e3))},function(response){createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeToast(0)},3e3)})):"update"===$scope.action?SalesmanService.update(salesman).then(function(response){response.data.result?(modal.close(),createToast("success","<strong>Éxito: </strong>"+response.data.message),$timeout(function(){closeToast(0)},3e3)):(createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeToast(0)},3e3))},function(response){createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeToast(0)},3e3)}):"delete"===$scope.action&&SalesmanService.destroy(salesman.id).then(function(response){response.data.result?(loadDataTable(),modal.close(),createToast("success","<strong>Éxito: </strong>"+response.data.message),$timeout(function(){closeToast(0)},3e3)):(createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeToast(0)},3e3))},function(response){createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeToast(0)},3e3)})},$scope.modalCreateOpen=function(){$scope.salesman={},$scope.action="new",modal=$modal.open({templateUrl:"views/app/salesman-modal.html",scope:$scope,size:"md",resolve:function(){},windowClass:"default"})},$scope.modalEditOpen=function(data){$scope.action="update",$scope.salesman=data,modal=$modal.open({templateUrl:"views/app/salesman-modal.html",scope:$scope,size:"md",resolve:function(){},windowClass:"default"})},$scope.modalDeleteOpen=function(data){$scope.action="delete",$scope.salesman=data,modal=$modal.open({templateUrl:"views/app/salesman-modal.html",scope:$scope,size:"md",resolve:function(){},windowClass:"default"})},$scope.modalClose=function(){modal.close()}}])}();


!function(){angular.module("app.ctrls").controller("SelectDemoCtrl",["$scope",function($scope){$scope.person={},$scope.people=[{name:"Adam",email:"adam@mail.com"},{name:"Amalie",email:"amalie@mail.com"},{name:"Nicolás",email:"nicolas@mail.com"},{name:"Wladimir",email:"wladimir@mail.com"},{name:"Samantha",email:"samantha@mail.com"},{name:"Estefanía",email:"estefanía@mail.com"},{name:"Natasha",email:"natasha@mail.com"},{name:"Nicole",email:"nicole@mail.com"},{name:"Adrian",email:"adrian@mail.com"}],$scope.state={},$scope.timezone=[{tag:1,name:"Alaska"},{tag:1,name:"Hawaii"},{tag:2,name:"California"},{tag:2,name:"Nevada"},{tag:2,name:"Oregon"},{tag:2,name:"Washington"},{tag:3,name:"Arizona"},{tag:3,name:"Colorado"},{tag:3,name:"Idaho"},{tag:3,name:"Montana"},{tag:3,name:"Nebraska"},{tag:3,name:"New Mexico"},{tag:3,name:"North Dakota"},{tag:3,name:"Utah"},{tag:3,name:"Wyoming"},{tag:4,name:"Alabama"},{tag:4,name:"Arkansas"},{tag:4,name:"Illinois"},{tag:4,name:"Iowa"},{tag:4,name:"Kansas"},{tag:4,name:"Kentucky"},{tag:4,name:"Louisiana"},{tag:4,name:"Minnesota"},{tag:4,name:"Mississippi"},{tag:4,name:"Missouri"}],$scope.timezoneFn=function(item){switch(item.tag){case 1:return"Alaskan/Hawaiian Time Zone";case 2:return"Pacific Time Zone";case 3:return"Moutain Time Zone";case 4:return"Central Time Zone"}},$scope.availableColors=["Red","Green","Blue","Yellow","Magenta","Maroon","Umbra","Turquoise","Array of Strings"],$scope.multipleDemo={},$scope.multipleDemo.colors=["Blue","Red","Array of Strings"],$scope.multipleDemo.selectedPeopleWithGroupBy=[$scope.people[8],$scope.people[0]],$scope.someGroupFn=function(item){return item.name[0]>="A"&&item.name[0]<="M"?"From A - M":item.name[0]>="N"&&item.name[0]<="Z"?"From N - Z":void 0}}])}();


!function(){"use strict";angular.module("app.ctrls").controller("TagsInputDemoCtrl",["$scope",function($scope){$scope.tags=["some","cool","typing","css3","wordpress","html5","javascript","illustrator","photoshop"]}])}();


!function(){angular.module("app.ctrls").controller("TreeViewDemoCtrl",["$scope","$timeout","$ocLazyLoad",function($scope,$timeout,$ocLazyLoad){var apple_selected,tree,treedata_avm,treedata_geography;return $scope.my_tree_handler=function(branch){var _ref;if($scope.output="You selected: "+branch.label,null!=(_ref=branch.data)?_ref.description:void 0)return $scope.output+="("+branch.data.description+")"},apple_selected=function(branch){return $scope.output="APPLE! : "+branch.label},treedata_avm=[{label:"Animal",children:[{label:"Dog",data:{description:"man's best friend"}},{label:"Cat",data:{description:"Felis catus"}},{label:"Hippopotamus",data:{description:"hungry, hungry"}},{label:"Chicken",children:["White Leghorn","Rhode Island Red","Jersey Giant"]}]},{label:"Vegetable",data:{definition:"A plant or part of a plant used as food, typically as accompaniment to meat or fish, such as a cabbage, potato, carrot, or bean.",data_can_contain_anything:!0},onSelect:function(branch){return $scope.output="Vegetable: "+branch.data.definition},children:[{label:"Oranges"},{label:"Apples",children:[{label:"Granny Smith",onSelect:apple_selected},{label:"Red Delicous",onSelect:apple_selected},{label:"Fuji",onSelect:apple_selected}]}]}],treedata_geography=[{label:"North America",children:[{label:"Canada",children:["Toronto","Vancouver"]},{label:"USA",children:["New York","Los Angeles"]},{label:"Mexico",children:["Mexico City","Guadalajara"]}]},{label:"South America",children:[{label:"Venezuela",children:["Caracas","Maracaibo"]},{label:"Brazil",children:["Sao Paulo","Rio de Janeiro"]},{label:"Argentina",children:["Buenos Aires","Cordoba"]}]}],$scope.my_data=treedata_avm,$scope.try_changing_the_tree_data=function(){return $scope.my_data===treedata_avm?$scope.my_data=treedata_geography:$scope.my_data=treedata_avm},$scope.my_tree=tree={},$scope.try_async_load=function(){return $scope.my_data=[],$scope.doing_async=!0,$timeout(function(){return Math.random()<.5?$scope.my_data=treedata_avm:$scope.my_data=treedata_geography,$scope.doing_async=!1,tree.expand_all()},1e3)},$scope.try_adding_a_branch=function(){var b;return b=tree.get_selected_branch(),tree.add_branch(b,{label:"New Branch",data:{something:42,else:43}})}}])}();


!function(){"use strict";angular.module("app.users",["app.service.users","app.service.companies","LocalStorageModule"]).controller("UsersController",["$scope","$filter","$http","$modal","$interval","UsersService","CompaniesService","localStorageService","$window",function($scope,$filter,$http,$modal,$timeout,UsersService,CompaniesService,localStorageService,$window){function loadDataTable(){UsersService.index().then(function(response){$scope.datas=response.data.records,$scope.search(),$scope.select($scope.currentPage)})}function loadCompanies(){CompaniesService.index().then(function(response){$scope.companies=response.data.records})}function createToast(type,message){$scope.toasts.push({anim:"bouncyflip",type:type,msg:message})}function closeAlert(index){$scope.toasts.splice(index,1)}"user"===localStorageService.get("user_data").type&&($window.location.href="./#/404"),$scope.datas=[],$scope.currentPageStores=[],$scope.searchKeywords="",$scope.filteredData=[],$scope.row="",$scope.numPerPageOpts=[5,10,25,50,100],$scope.numPerPage=$scope.numPerPageOpts[1],$scope.currentPage=1,$scope.positionModel="topRight",$scope.toasts=[],$scope.companies=[];var modal;$scope.select=function(page){var start=(page-1)*$scope.numPerPage,end=start+$scope.numPerPage;$scope.currentPageStores=$scope.filteredData.slice(start,end)},$scope.onFilterChange=function(){$scope.select(1),$scope.currentPage=1,$scope.row=""},$scope.onNumPerPageChange=function(){$scope.select(1),$scope.currentPage=1},$scope.onOrderChange=function(){$scope.select(1),$scope.currentPage=1},$scope.search=function(){$scope.filteredData=$filter("filter")($scope.datas,$scope.searchKeywords),$scope.onFilterChange()},$scope.order=function(rowName){$scope.row!=rowName&&($scope.row=rowName,$scope.filteredData=$filter("orderBy")($scope.datas,rowName),$scope.onOrderChange())},loadDataTable(),loadCompanies(),$scope.saveData=function(user){"new"==$scope.action?UsersService.store(user).then(function(response){response.data.result?(loadDataTable(),modal.close(),createToast("success","<strong>Éxito: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)):(createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3))},function(response){createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)}):"update"==$scope.action?UsersService.update(user).then(function(response){response.data.result?(loadDataTable(),modal.close(),createToast("success","<strong>Éxito: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)):(createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3))},function(response){createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)}):"delete"==$scope.action&&UsersService.destroy(user.id).then(function(response){response.data.result?(loadDataTable(),modal.close(),createToast("success","<strong>Éxito: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)):(createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3))},function(response){createToast("danger","<strong>Error: </strong>"+response.data.message),$timeout(function(){closeAlert(0)},3e3)})},$scope.modalCreateOpen=function(){$scope.user={},$scope.action="new",modal=$modal.open({templateUrl:"views/app/users-modal.html",scope:$scope,size:"md",resolve:function(){},windowClass:"default"})},$scope.modalEditOpen=function(data){$scope.action="update",$scope.user=data,modal=$modal.open({templateUrl:"views/app/users-modal.html",scope:$scope,size:"md",resolve:function(){},windowClass:"default"})},$scope.modalDeleteOpen=function(data){$scope.action="delete",$scope.user=data,modal=$modal.open({templateUrl:"views/app/users-modal.html",scope:$scope,size:"md",resolve:function(){},windowClass:"default"})},$scope.modalClose=function(){modal.close()}}])}();