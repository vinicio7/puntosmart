if (self.CavalryLogger) { CavalryLogger.start_js(["cshaq"]); }

__d("NotificationClassification",[],(function a(b,c,d,e,f,g){f.exports={CONVERSATIONS:"conversations",MULTI_COMPANY_GROUPS:"multi_company_groups"};}),null);
__d("NotificationsSourceView",[],(function a(b,c,d,e,f,g){f.exports={HUB:"HUB"};}),null);
__d("NotifType",[],(function a(b,c,d,e,f,g){f.exports={LIKE:"like",OPEN_GRAPH_ACTION_LIKE:"open_graph_action_like",LIKE_TAGGED:"like_tagged",PAGE_FAN:"page_fan",IG_MEDIA_LIKE:"ig_media_like",FEEDBACK_REACTION_GENERIC:"feedback_reaction_generic",FEEDBACK_REACTION_GENERIC_TAGGED:"feedback_reaction_generic_tagged",MESSENGER_REACTIONS:"messenger_reactions"};}),null);
__d("WorkHubLogAction",[],(function a(b,c,d,e,f,g){f.exports={GROUP_STORY_LOAD:"GROUP_STORY_LOAD",HIDE_PANE:"HIDE_PANE",PAGE_LOAD:"PAGE_LOAD",NOTIFICATION_MARK_READ:"NOTIFICATION_MARK_READ",NOTIFICATION_MARK_UNREAD:"NOTIFICATION_MARK_UNREAD",NOTIFICATION_STORY_LOAD:"NOTIFICATION_STORY_LOAD",NOTIFICATION_TAB_CHANGED:"NOTIFICATION_TAB_CHANGED",KEYBOARD_SHORTCUT_PREV:"KEYBOARD_SHORTCUT_PREV",KEYBOARD_SHORTCUT_PREV_NOTIF_ONLY:"KEYBOARD_SHORTCUT_PREV_NOTIF_ONLY",KEYBOARD_SHORTCUT_NEXT:"KEYBOARD_SHORTCUT_NEXT",KEYBOARD_SHORTCUT_NEXT_NOTIF_ONLY:"KEYBOARD_SHORTCUT_NEXT_NOTIF_ONLY",KEYBOARD_SHORTCUT_TOGGLE_READ:"KEYBOARD_SHORTCUT_TOGGLE_READ",KEYBOARD_SHORTCUT_OPEN:"KEYBOARD_SHORTCUT_OPEN",SAVED_STORY_LOAD:"SAVED_STORY_LOAD",SAVED_STORY_ARCHIVE:"SAVED_STORY_ARCHIVE",SAVED_STORY_UNARCHIVE:"SAVED_STORY_UNARCHIVE",SHOW_PANE:"SHOW_PANE"};}),null);
__d("WorkHubTab",[],(function a(b,c,d,e,f,g){f.exports={ALL:"All",UNREAD:"Unread",CONVERSATIONS:"Tags and Replies",MULTICOMPANY:"Multi-Company Groups",SAVED:"Saved"};}),null);
__d('NotificationConvoUtils',['QE2Logger','idx'],(function a(b,c,d,e,f,g){'use strict';var h='www_notifications_conversation_universe',i={shouldLogExposureWithNotification:function j(k){var l;return !!((l=k)!=null?(l=l.conversationConfig)!=null?(l=l.options)!=null?l.shouldExpose:l:l:l);},logExposure:function j(){c('QE2Logger').logExposureForUser(h);}};f.exports=i;}),null);
__d('NotificationHiddenState',['NotificationConstants','NotificationUpdates','isEmpty'],(function a(b,c,d,e,f,g){var h={};c('NotificationUpdates').subscribe('update-notifications',function(j,k){var l,m=k.nodes,n=k.payloadsource;if(n===c('NotificationConstants').PayloadSourceType.LIVE_SEND&&m&&m.length)(function(){var o={};m.forEach(function(p){var q=p.alert_id;if(h[q])o[q]=false;});if(!c('isEmpty')(o)){h=Object.assign(h,o);c('NotificationUpdates').didUpdateHiddenState(Object.keys(o));}})();});c('NotificationUpdates').subscribe('update-hidden',function(j,k){if(k.hiddenState){var l=k.hiddenState;h=Object.assign(h,l);c('NotificationUpdates').didUpdateHiddenState(Object.keys(l));}});var i={isHidden:function j(k){if(h[k])return h[k];return false;}};f.exports=i;}),null);
__d('NotificationTracking',['invariant'],(function a(b,c,d,e,f,g,h){'use strict';var i={},j={getEncodedTrackingData:function k(l,m){return this._getTrackingInfo(l,m).encoded;},getTrackingString:function k(l,m){return this._getTrackingInfo(l,m).raw;},_getTrackingInfo:function k(l,m){var n=''+l.alert_id,o=i[n];if(o&&o.row===m)return o;var p=this._getEncodedTrackingDataWithRow(l,m);i[n]={row:m,encoded:p,raw:JSON.stringify(p)};return i[n];},_getTrackingAsObject:function k(l){var m=null,n=null;if(l.tracking)try{m=JSON.parse(l.tracking);}catch(o){n=o;}if(m===null||n!==null||typeof m!=='object')h(0);return m;},_getEncodedTrackingDataWithRow:function k(l,m){var n=this._getTrackingAsObject(l);if(m!='undefined'&&typeof m==='number')return babelHelpers['extends']({},n,{row:m});return n;}};f.exports=j;}),null);
__d('NotificationActor.react',['cx','ix','Image.react','React','RoundImage.react','SutroGatingConfig'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('SutroGatingConfig').avatar;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;m.prototype.render=function(){var n=this.props,o=n.actor,p=n.isCircle,q=n.isNotifsPage,r=o&&o.profile_picture?o.profile_picture.uri:i("97000"),s='',t=(!q?"_33h":'')+(q?' '+"_12u1":'')+(p?' '+"_4pt3":'');if(l.has_rounded_avatars){return c('React').createElement(c('RoundImage.react'),{src:r,alt:s,className:t});}else return c('React').createElement(c('Image.react'),{src:r,alt:s,className:t});};function m(){j.apply(this,arguments);}f.exports=m;}),null);
__d('NotificationAttachment.react',['cx','Image.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){var l=this.props.image;if(!l)return c('React').createElement('span',null);return c('React').createElement(c('Image.react'),{src:l.uri,className:"_42td",'aria-hidden':true});};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('NotificationFooter.react',['cx','BizSiteIdentifier.brands','Image.react','ImageBlock.react','React','Timestamp.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('BizSiteIdentifier.brands').isBizSite();i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.$NotificationFooter1=function(){var m=this.props,n=m.shortenTimestamp,o=m.timestamp;return c('React').createElement('span',{key:'timestamp'},c('React').createElement(c('Timestamp.react'),babelHelpers['extends']({className:"_33g",shorten:n},o)));};l.prototype.render=function(){var m=this.props,n=m.icon,o=m.metadata,p=[this.$NotificationFooter1()];if(o)p=[c('React').createElement('span',{key:'metadata'},o),c('React').createElement('span',{key:'dot'},' \u00B7 ')].concat(p);var q="_33f"+(k?' '+"_2g48":'');if(!n)return c('React').createElement('div',{className:q},p);return c('React').createElement(c('ImageBlock.react'),{className:q},c('React').createElement(c('Image.react'),{className:"_10cu",src:n.uri}),c('React').createElement('div',null,p));};function l(){i.apply(this,arguments);}f.exports=l;}),null);
__d('NotificationVPVs',['MarauderLogger','Set','getElementRect'],(function a(b,c,d,e,f,g){'use strict';var h=new (c('Set'))();function i(o){if(j(o))return;c('MarauderLogger').log('notifications_vpv',undefined,null,'notification',o);h.add(o);}function j(o){return h.has(o);}function k(){h.clear();}function l(o,p){if(!o||!p)return false;return !(o.bottom<p.top||o.top>p.bottom||o.right<p.left||o.left>p.right);}function m(o){var p=c('getElementRect')(o);if(!p||p.top==0&&p.bottom==0&&p.left==0&&p.right==0)return null;return p;}var n={logImpression:i,clearImpressions:k,hasLoggedImpression:j,getValidatedRectangle:m,areRectsOverlapping:l};f.exports=n;}),null);
__d('NotificationList.react',['FunnelLogger','NotificationClassification','NotificationConstants','NotificationConvoUtils','NotificationHiddenState','NotificationJewelFunnelLoggingConstants','NotificationListConfig','NotificationSeenState','NotificationStore','NotificationUpdates','NotificationUserActions','NotificationVPVs','NotifType','QE2Logger','React','SubscriptionsHandler','getObjectValues','isEmpty','mapObject'],(function a(b,c,d,e,f,g){var h,i,j=c('NotificationJewelFunnelLoggingConstants').FUNNEL_LOGGING_NAME,k=c('NotificationJewelFunnelLoggingConstants').FUNNEL_LOGGING_EVENT,l=c('React').PropTypes,m=c('NotificationConstants').PayloadSourceType.LIVE_SEND;h=babelHelpers.inherits(n,c('React').Component);i=h&&h.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=i.constructor).call.apply(o,[this].concat(r)),this.state={currentlyFetching:false,canFetchMore:true,notifs:{},hiddenState:{},readState:{},showingChevron:false,readWhilePausedOrNavigating:{}},this.$NotificationList1={},this.$NotificationList2=false,this.$NotificationList4=false,this.$NotificationList8=function(){var t={};Object.keys(this.$NotificationList1).forEach(function(u){var v=c('NotificationHiddenState').isHidden(u);if(v!=this.state.hiddenState[u])t[u]=v;}.bind(this));if(!c('isEmpty')(t))this.setState({hiddenState:babelHelpers['extends']({},this.state.hiddenState,t)});this.$NotificationList1={};this.$NotificationList5(c('NotificationStore').getCount(this.props.endpoint,this.props.filter,this.props.classification));}.bind(this),this.$NotificationList10=function(t,u,v){if(this.state.currentlyFetching||!this.state.canFetchMore)return;if(t){c('FunnelLogger').appendAction(j,k.FETCH_NEXT_SET);this.$NotificationList9();}this.$NotificationList11(u,v);}.bind(this),this.$NotificationList12=function(){this.setState({showingChevron:true});}.bind(this),this.$NotificationList13=function(){this.setState({showingChevron:false});}.bind(this),this.$NotificationList16=function(t){if(this.props.paused&&this.props.filter==='unread'){var u=babelHelpers['extends']({},this.state.readWhilePausedOrNavigating);u[t]=true;this.setState({readWhilePausedOrNavigating:u});}}.bind(this),p;}n.prototype.componentWillMount=function(){'use strict';c('NotificationStore').registerEndpoint(this.props.endpoint,this.props.filter,this.props.classification);if(this.props.businessID)c('NotificationStore').setBusinessID(this.props.businessID);c('FunnelLogger').appendAction(j,k.FETCH_NOTIFICATIONS);this.$NotificationList3=new (c('SubscriptionsHandler'))();this.$NotificationList3.addSubscriptions(c('NotificationUpdates').subscribe('notifications-updated',function(o,p){if(p.source==m&&!c('isEmpty')(p.updates)){this.$NotificationList2=true;var q=this.props.paused;if(q){c('QE2Logger').logExposureForUser('www_notifications_paused_update_universe');if(!c('NotificationListConfig').updateWhenPaused){this.$NotificationList1=babelHelpers['extends']({},this.$NotificationList1,p.updates);return;}}}this.$NotificationList5(c('NotificationStore').getCount(this.props.endpoint,this.props.filter,this.props.classification));}.bind(this)),c('NotificationUpdates').subscribe(['hidden-state-updated','read-state-updated'],function(o,p){if(o=='hidden-state-updated'){if(p.source!==m||!this.props.paused){var q=c('mapObject')(p.updates,function(s,t){return c('NotificationHiddenState').isHidden(t);});this.setState({hiddenState:babelHelpers['extends']({},this.state.hiddenState,q)});}}else{var r=c('mapObject')(p.updates,function(s,t){return c('NotificationSeenState').isRead(t);});this.setState({readState:babelHelpers['extends']({},this.state.readState,r)});}}.bind(this)));};n.prototype.componentWillUnmount=function(){'use strict';if(this.$NotificationList3){this.$NotificationList3.release();this.$NotificationList3=null;}};n.prototype.componentWillReceiveProps=function(o){'use strict';if(!this.$NotificationList6(o)&&o.paused)return;if(this.props.enableHubView&&this.props.filter==='unread')return;this.setState({readWhilePausedOrNavigating:{}});};n.prototype.$NotificationList6=function(o){'use strict';return o.filter!==this.props.filter||o.classification!==this.props.classification;};n.prototype.$NotificationList7=function(o){'use strict';var p=Object.keys(this.state.notifs),q=Object.keys(o).filter(function(s){return !this.state.notifs[s];}.bind(this));p=p.concat(q);var r={};p.forEach(function(s){if(this.$NotificationList1[s]){if(this.state.notifs[s])r[s]=this.state.notifs[s];}else r[s]=o[s];}.bind(this));return r;};n.prototype.$NotificationList5=function(o){'use strict';var p=this.props,q=p.endpoint,r=p.filter,s=p.classification;this.setState({currentlyFetching:true});c('NotificationStore').getNotifications(o,function(t){var u=c('isEmpty')(this.$NotificationList1)?t:this.$NotificationList7(t),v={},w={};c('getObjectValues')(u).forEach(function(x){var y=x.alert_id;v[y]=c('NotificationSeenState').isRead(y);w[y]=c('NotificationHiddenState').isHidden(y);if(!this.$NotificationList4)this.$NotificationList4=c('NotificationConvoUtils').shouldLogExposureWithNotification(x);}.bind(this));this.setState({notifs:u,currentlyFetching:false,canFetchMore:c('NotificationStore').canFetchMore(q,r,s)||c('NotificationStore').getCount(q,r,s)!==Object.keys(u).length,readState:babelHelpers['extends']({},this.state.readState,v),hiddenState:babelHelpers['extends']({},this.state.hiddenState,w)});}.bind(this),q,r,s);};n.prototype.$NotificationList9=function(){'use strict';if(!this.state.currentlyFetching){var o=Object.keys(this.state.notifs).length;this.$NotificationList5(o+this.props.numPerPage);}};n.prototype.$NotificationList11=function(o,p){'use strict';if(!o||!p)return;for(var q=0,r=o.children.length;q<r;q++){var s=o.children[q];if(s){var t=s.getAttribute('data-alert-id');if(t&&!c('NotificationVPVs').hasLoggedImpression(t)){var u=c('NotificationVPVs').getValidatedRectangle(s);if(u&&c('NotificationVPVs').areRectsOverlapping(p,u))c('NotificationVPVs').logImpression(t);}}}};n.prototype.$NotificationList14=function(o){'use strict';if(o.length>this.props.numPerPage){this.$NotificationList5(o.length);}else this.$NotificationList9();return;};n.prototype.$NotificationList15=function(o){'use strict';var p=c('NotificationSeenState').getUnseenIDs();if(!c('isEmpty')(this.$NotificationList1))p=p.filter(function(q){return !this.$NotificationList1[q];}.bind(this));if(p.length&&this.props.paused)c('NotificationUserActions').markNotificationsAsSeen(p);if(this.props.hasEverBeenOpened)if(!o||!o.hasEverBeenOpened)this.$NotificationList14(p);};n.prototype.$NotificationList17=function(o){'use strict';return o===c('NotifType').LIKE||o===c('NotifType').OPEN_GRAPH_ACTION_LIKE||o===c('NotifType').LIKE_TAGGED||o===c('NotifType').PAGE_FAN||o===c('NotifType').IG_MEDIA_LIKE||o===c('NotifType').FEEDBACK_REACTION_GENERIC||o===c('NotifType').FEEDBACK_REACTION_GENERIC_TAGGED||o===c('NotifType').MESSENGER_REACTIONS;};n.prototype.componentDidUpdate=function(o){'use strict';this.$NotificationList15(o);if(this.props.paused&&this.$NotificationList4)c('NotificationConvoUtils').logExposure();if(o.paused&&!this.props.paused){this.$NotificationList2=false;setTimeout(this.$NotificationList8,0);return;}if(this.props.paused&&this.$NotificationList6(o)){setTimeout(this.$NotificationList8,0);return;}};n.prototype.componentDidMount=function(){'use strict';this.$NotificationList15();};n.prototype.render=function(){var o,p=this;'use strict';var q=this.props.listRenderer,r=this.state,s=r.notifs,t=r.readState,u=r.readWhilePausedOrNavigating,v={};if(this.props.filter==null){v=s;}else Object.keys(s).forEach(function(w){var x=s[w],y=x.alert_id,z=t[y];if(this.props.filter==='unread')z=!z||Object.prototype.hasOwnProperty.call(u,y);if(z)v[y]=x;}.bind(this));if(this.props.hideReactions)(function(){var w={};Object.keys(v).forEach(function(x){var y=s[x];if(!this.$NotificationList17(y.notif_type))w[y.alert_id]=y;}.bind(p));v=w;})();if(this.props.classification)Object.keys(s).forEach(function(w){var x=s[w];if(x.classification!==this.props.classification)delete v[x.alert_id];}.bind(this));return c('React').createElement(q,{paused:this.props.paused,tracking:this.props.tracking,negativeTracking:this.props.negativeTracking,shortenTimestamp:this.props.shortenTimestamp,businessID:this.props.businessID,maxHeight:this.props.maxHeight,useChevron:this.props.useChevron,chevronType:this.props.chevronType,notifs:v,afterScroll:this.$NotificationList10,onChevronShow:this.$NotificationList12,onChevronHide:this.$NotificationList13,currentlyFetching:this.state.currentlyFetching,canFetchMore:this.state.canFetchMore,hiddenState:this.state.hiddenState,readState:this.state.readState,showingChevron:this.state.showingChevron,shouldScroll:this.$NotificationList2,upsell:this.props.upsell||null,isRHC:this.props.isRHC,enableHubView:this.props.enableHubView,enableMarkUnread:this.props.enableMarkUnread,onRead:this.$NotificationList16});};n.propTypes={businessID:l.string,hasEverBeenOpened:l.bool,enableHubView:l.bool,enableMarkUnread:l.bool,maxHeight:l.number,negativeTracking:l.object,paused:l.bool,tracking:l.string,useChevron:l.bool,chevronType:l.string,numPerPage:l.number.isRequired,listRenderer:l.func.isRequired,upsell:l.object,endpoint:l.string,filter:l.string,classification:l.oneOf(c('getObjectValues')(c('NotificationClassification')))};f.exports=n;}),null);
__d('NotificationListItemChevron.react',['cx','AbstractPopoverButton.react','Banzai','BanzaiLogger','NotificationTokens','NotifTestIDs','PopoverMenu.react','QE2Logger','React','ReactXUIMenu','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('ReactXUIMenu').Item;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$NotificationListItemChevron1=function(){if(this.props.onHide)this.props.onHide();this.$NotificationListItemChevron2('close');}.bind(this),this.$NotificationListItemChevron3=function(){if(this.props.onShow)this.props.onShow();if(this.props.logMenuExposure)c('QE2Logger').logExposureForUser('pages_growth_optout_button');this.$NotificationListItemChevron2('open');var r={notif_type:this.props.notif_type};c('Banzai').post('notif_chevron_on_click',r);}.bind(this),n;}l.prototype.$NotificationListItemChevron2=function(m){var n={event:m,notif_type:this.props.notif_type,notif_id:parseInt(c('NotificationTokens').untokenizeIDs([this.props.alert_id])[0],10)};c('BanzaiLogger').log('NotifJewelMenuLoggerConfig',n);};l.prototype.$NotificationListItemChevron4=function(){var m=this.props.menu_options;if(!m||!m.length)return null;var n=c('React').createElement(c('ReactXUIMenu'),null,m.map(function(o){return c('React').createElement(k,{onclick:function(){return this.props.onMenuOptionClick(o);}.bind(this),key:o.client_action+o.server_action},c('React').createElement('div',{className:"_18qh"},o.text));}.bind(this)));return n;};l.prototype.render=function(){var m=this.$NotificationListItemChevron4();if(!m)return null;var n={button:c('React').createElement('a',{href:'#','aria-label':'Notification options',className:"_1_0d"})},o=c('React').createElement(c('PopoverMenu.react'),{'data-testid':c('NotifTestIDs').CHEVRON,alignh:'right',menu:m,className:c('joinClasses')(this.props.className,"_1_0c"),disableArrowKeyActivation:true,onShow:this.$NotificationListItemChevron3,onHide:this.$NotificationListItemChevron1},c('React').createElement(c('AbstractPopoverButton.react'),{config:n,haschevron:false,image:null,label:null}));return o;};f.exports=l;}),null);
__d('NotificationListItemContents.react',['cx','BizSiteIdentifier.brands','FlexibleBlock.react','ImageBlock.react','NotificationActor.react','NotificationAttachment.react','NotificationFooter.react','NotificationInterpolator','NotificationPhotoThumbnail','React','TextWithEntities.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('BizSiteIdentifier.brands').isBizSite();i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.$NotificationListItemContents1=function(){var m=this.props.notification.title;if(!m)return null;return c('React').createElement(c('TextWithEntities.react'),babelHelpers['extends']({interpolator:c('NotificationInterpolator')},m,{renderEmoji:true,renderEmoticons:true}));};l.prototype.render=function(){var m=this.$NotificationListItemContents1(),n=this.props,o=n.hideIcon,p=n.isNotifsPage,q=n.shortenTimestamp,r=n.notification,s=r.actors,t=r.icon,u=r.timestamp,v=c('React').createElement(c('NotificationActor.react'),{actor:s[0],isNotifsPage:p}),w=c('React').createElement(c('NotificationAttachment.react'),{image:c('NotificationPhotoThumbnail').getThumbnailForNotification(this.props.notification)}),x=c('React').createElement(c('NotificationFooter.react'),{icon:o?null:t,shortenTimestamp:q,timestamp:u});return c('React').createElement(c('ImageBlock.react'),null,v,c('React').createElement(c('FlexibleBlock.react'),{flex:c('FlexibleBlock.react').FLEX.left},c('React').createElement('div',{className:"_4l_v"},m,x),w));};function l(){i.apply(this,arguments);}f.exports=l;}),null);
__d('NotificationListItemConversationContents.react',['cx','FlexibleBlock.react','ImageBlock.react','NotificationActor.react','NotificationAttachment.react','NotificationFooter.react','NotificationInterpolator','NotificationPhotoThumbnail','React','TextWithEntities.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k='title',l='footer';i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;m.prototype.render=function(){var n=this.props.notification.conversationConfig;if(!n)return null;var o=n.data,p=n.options;if(!o)return null;var q=o.actors,r=o.countText,s=o.subtitle,t=o.title,u=p.showIconFooter,v=p.useRoundedActor,w=this.props,x=w.notification,y=x.icon,z=x.timestamp,aa=w.isNotifsPage,ba=w.isRead,ca=w.shortenTimestamp,da=c('React').createElement(c('NotificationActor.react'),{actor:q[0],isCircle:!!v,isNotifsPage:aa}),ea=c('React').createElement(c('TextWithEntities.react'),{aggregatedranges:t.aggregated_ranges,interpolator:c('NotificationInterpolator'),ranges:t.ranges,renderEmoji:true,renderEmoticons:true,text:t.text}),fa=c('React').createElement(c('TextWithEntities.react'),{aggregatedranges:s.aggregated_ranges,interpolator:c('NotificationInterpolator'),ranges:s.ranges,renderEmoji:true,renderEmoticons:true,text:s.text}),ga=p.countLocation||l,ha=r&&ga===k?c('React').createElement('span',{className:!ba?"fwb":''},'(',c('React').createElement(c('TextWithEntities.react'),babelHelpers['extends']({interpolator:c('NotificationInterpolator')},r)),')'):null,ia=u?c('React').createElement(c('NotificationFooter.react'),{icon:y,metadata:r&&ga===l?r.text:null,shortenTimestamp:ca,timestamp:z}):null,ja=c('React').createElement(c('NotificationAttachment.react'),{image:c('NotificationPhotoThumbnail').getThumbnailForNotification(this.props.notification)});return c('React').createElement(c('ImageBlock.react'),null,da,c('React').createElement(c('FlexibleBlock.react'),{flex:c('FlexibleBlock.react').FLEX.left},c('React').createElement('div',{className:"_4l_v"},c('React').createElement('div',{className:"_4pt4"},c('React').createElement('span',{className:"fwb _2_jo"},ea),ha),c('React').createElement('div',{className:"_4pt6"},fa),ia),ja));};function m(){i.apply(this,arguments);}f.exports=m;}),null);
__d('NotificationListItemOptionConfirmation.react',['cx','fbt','List.react','NotificationInterpolator','React','TextWithEntities.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.render=function(){var m=this.props,n=m.follow_up_options,o=m.text,p=m.undo_action;return c('React').createElement('div',null,c('React').createElement('div',{className:"_4ai"},c('React').createElement(c('TextWithEntities.react'),{interpolator:c('NotificationInterpolator'),ranges:o.ranges,aggregatedranges:o.aggregatedranges,text:o.text||''}),c('React').createElement('a',{href:'#',onClick:function(){return this.props.onUndoClick(p);}.bind(this),className:'mls'},i._("Anular"))),c('React').createElement(c('List.react'),{border:'none',spacing:'small',className:"_1v4c"},n?n.map(function(q){return c('React').createElement('li',{key:q.client_action+q.server_action},c('React').createElement('a',{onClick:function(){return this.props.onMenuOptionClick(q);}.bind(this),href:'#',className:'mls'},q.text));}.bind(this)):null));};function l(){j.apply(this,arguments);}f.exports=l;}),null);
__d('NotificationListItem.react',['csx','cx','fbt','AsyncDialog','AsyncResponse','BizSiteIdentifier.brands','BootloadedComponent.react','Bootloader','Event','JSResource','Keys','Link.react','LogicalGridCell.react','LogicalGridRow.react','NotificationListConfig','NotificationListItemChevron.react','NotificationListItemContents.react','NotificationListItemConversationContents.react','NotificationListItemOptionConfirmation.react','NotificationSeenState','NotificationsSourceView','NotificationTracking','NotificationUserActions','NotificationUtils','NotifTestIDs','PageTransitions','Parent','React','ReactDOM','ReadToggle.react','RelationshipDelightUtils','Style','URI','idx'],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=10000,n=10,o=c('BizSiteIdentifier.brands').isBizSite(),p=-1;k=babelHelpers.inherits(q,c('React').Component);l=k&&k.prototype;function q(){var r,s;'use strict';for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=l.constructor).call.apply(r,[this].concat(u)),this.prefetched=false,this.isLiveVideo=null,this.state={showingOptions:false,sendingFeedback:false,mayUndoHide:false,notifOptionConfirmation:null},this.$NotificationListItem6=function(w){this.$NotificationListItem5(w);var x=this.props.notification.rendererData;if(!x)return;if(c('NotificationUtils').canRenderInTahoe(x)){this.$NotificationListItem7(w,x);}else if(c('NotificationUtils').canRenderInVideoChannelView(x))this.$NotificationListItem8(w,x);}.bind(this),this.$NotificationListItem9=function(w){if(c('Event').getKeyCode(w.nativeEvent)==c('Keys').RETURN){var x=this.$NotificationListItem3();this.props.onSelected&&this.props.onSelected(x);this.$NotificationListItem5(w);}}.bind(this),this.$NotificationListItem10=function(){c('NotificationUserActions').setNextIsFromReadButton(true);if(this.props.isRead){if(this.$NotificationListItem2())this.$NotificationListItem11();}else this.$NotificationListItem5();}.bind(this),this.$NotificationListItem12=function(w){c('AsyncResponse').defaultErrorHandler(w);this.setState({sendingFeedback:false});}.bind(this),this.$NotificationListItem13=function(){this.setState({notifOptionConfirmation:null,sendingFeedback:false,showingOptions:false});}.bind(this),this.$NotificationListItem21=function(w){this.setState({showingOptions:true,sendingFeedback:false,notifOptionConfirmation:w});}.bind(this),this.$NotificationListItem16=function(w){var x=this.$NotificationListItem3(),y=w.client_action==='REPORT_BUG',z=w.client_action==='OPEN_IN_INSPECTOR';if(y){var aa=new (c('URI'))('/ajax/bugs/employee_report').setQueryData({client_notifs:JSON.stringify(this.props.getDebugData()),notif_alert_id:x});c('AsyncDialog').bootstrap(aa.toString(),null,'dialog');}else if(z){window.open(w.subtext,'_blank');}else{this.setState({sendingFeedback:true,mayUndoHide:true});c('NotificationUserActions').sendNotifOption(x,this.$NotificationListItem21,this.$NotificationListItem12,w.server_action);}}.bind(this),this.$NotificationListItem22=function(w){this.setState({sendingFeedback:true});c('NotificationUserActions').undoNotifOption(this.$NotificationListItem3(),this.$NotificationListItem13,this.$NotificationListItem12,w);}.bind(this),this.$NotificationListItem24=function(w){this.$NotificationListItem1=w;}.bind(this),s;}q.prototype.$NotificationListItem2=function(){'use strict';return c('NotificationListConfig').canMarkUnread||(this.props.enableHubView||false)&&c('NotificationListConfig').canMarkUnreadInHub;};q.prototype.$NotificationListItem3=function(){'use strict';return this.props.notification.alert_id;};q.prototype.$NotificationListItem4=function(r,s){'use strict';var t=this.$NotificationListItem3();if(s&&s.metaKey){window.open(r);}else this.props.onSelected&&this.props.onSelected(t);this.$NotificationListItem5(s);s&&s.preventDefault();};q.prototype.$NotificationListItem8=function(event,r){'use strict';event.preventDefault();c('Bootloader').loadModules(["VideoChannelHandleLink"],function(s){s.openChannel(r.video_channel_id,r.video_channel_caller,r.video_id);var t=new (c('URI'))(this.props.notification.url),u=function v(w){if(w.getQueryData().ref!=='notif_channel')return false;c('PageTransitions').transitionComplete();return true;};c('PageTransitions').registerHandler(u,n);c('PageTransitions').go(new (c('URI'))(t.getPath()).addQueryData('ref','notif_channel'));}.bind(this),'NotificationListItem.react');};q.prototype.$NotificationListItem7=function(event,r){'use strict';event.preventDefault();c('Bootloader').loadModules(["TahoeController"],function(s){var t=c('NotificationUtils').getLinkProps(this.props.notification);s.openFromVideoLink(new (c('URI'))(t.href));}.bind(this),'NotificationListItem.react');};q.prototype.$NotificationListItem5=function(r){'use strict';var s=this.$NotificationListItem3();if(this.props.onRead&&r)this.props.onRead(s);c('NotificationUserActions').markNotificationsAsRead([s],this.props.enableHubView?c('NotificationsSourceView').HUB:null);};q.prototype.$NotificationListItem11=function(){'use strict';var r=this.$NotificationListItem3();c('NotificationUserActions').markNotificationsAsUnread([r],this.props.enableHubView?c('NotificationsSourceView').HUB:null);};q.prototype.$NotificationListItem14=function(){'use strict';return c('React').createElement(c('ReadToggle.react'),{className:"_55m9 _55ma",isRead:!!this.props.isRead,onClick:this.$NotificationListItem10,readLabel:this.$NotificationListItem2()?j._("Marcar como no le\u00edda"):j._("Le\u00edda"),unreadLabel:j._("Marcar como le\u00edda")});};q.prototype.$NotificationListItem15=function(){'use strict';var r=this.props,s=r.onChevronHide,t=r.onChevronShow,u=r.notification,v=u.alert_id,w=u.menu_options,x=u.notif_type,y=u.rendererData,z=false;if(y)z=y.logMenuExposure;return c('React').createElement(c('NotificationListItemChevron.react'),{alert_id:v,className:"_55m9",menu_options:w,notif_type:x,onHide:s,onMenuOptionClick:this.$NotificationListItem16,onShow:t,logMenuExposure:z});};q.prototype.shouldComponentUpdate=function(r,s){'use strict';var t=this.props.enableHubView!==r.enableHubView||this.props.visible!==r.visible||this.props.isRead!==r.isRead||this.props.isSelected!==r.isSelected||this.props.notification.timestamp!==r.notification.timestamp||this.state.showingOptions!==s.showingOptions||this.state.sendingFeedback!==s.sendingFeedback;return t||this.$NotificationListItem17()&&this.props.paused!==r.paused;};q.prototype.componentWillUpdate=function(r){'use strict';if(!this.$NotificationListItem1||!r.isSelected||this.props.isSelected)return;var s=c('ReactDOM').findDOMNode(this.$NotificationListItem1);s&&s.scrollIntoViewIfNeeded&&s.scrollIntoViewIfNeeded(false);};q.prototype.componentWillReceiveProps=function(r){'use strict';if(this.props.paused&&!r.paused&&!this.props.visible&&this.state.mayUndoHide)this.setState({mayUndoHide:false});};q.prototype.componentDidMount=function(){'use strict';if(this.$NotificationListItem18())c('Bootloader').loadModules(["VideoPlayerMetaData"],function(r){r.genVideoData(this.$NotificationListItem19()).done();}.bind(this),'NotificationListItem.react');};q.prototype.componentDidUpdate=function(){'use strict';if(this.props.enableHubView&&this.props.isSelected&&this.$NotificationListItem1){var r=c('ReactDOM').findDOMNode(this.$NotificationListItem1);if(r&&typeof r.focus=='function')r.focus();}};q.prototype.$NotificationListItem20=function(){'use strict';var r=c('ReactDOM').findDOMNode(this);if(!r)return false;var s=c('Parent').bySelector(r,".__tw"),t=s?s.parentNode:null;return t?c('Style').get(t,'display')!=='none':false;};q.prototype.$NotificationListItem19=function(){'use strict';var r=c('NotificationTracking').getEncodedTrackingData(this.props.notification,this.props.row);return r.content_id||null;};q.prototype.$NotificationListItem18=function(){'use strict';if(this.isLiveVideo===null){var r=c('NotificationTracking').getTrackingString(this.props.notification,this.props.row);this.isLiveVideo=r.indexOf('live_video')!==-1;}return !!this.isLiveVideo;};q.prototype.$NotificationListItem17=function(){'use strict';var r=this.props,s=r.notification,t=r.isRead,u=r.rowIndex;if(t)return false;if(!c('RelationshipDelightUtils').shouldHeartNotification(s))return false;if(p<0||p>u)p=u;return true;};q.prototype.$NotificationListItem23=function(){'use strict';if(!this.$NotificationListItem17())return null;var r=this.props,s=r.paused,t=r.rowIndex,u=r.notification.alert_id;if(!s)return null;var v=p===t&&!c('NotificationSeenState').isSeen(u)?1:2;c('RelationshipDelightUtils').logNotificationAnimation(u,v,t);return c('React').createElement('div',{className:"_3u5l _3u5m"},c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('div',null),bootloadLoader:c('JSResource')('RelationshipDelightsActorAnimation.react').__setRef('NotificationListItem.react'),animationPhase:v}));};q.prototype.render=function(){var r;'use strict';if(!this.props.visible&&!this.state.mayUndoHide)return c('React').createElement('li',{className:"_4_62"});var s="_33c"+(c('NotificationListConfig').isWork?' '+"_1rqj":'')+(!this.props.isRead?' '+"jewelItemNew":'')+(this.state.showingOptions?' '+"_4ag":'')+(this.state.sendingFeedback?' '+"_4m8s":'')+(this.$NotificationListItem17()?' '+"_3u5n":'')+(this.props.isSelected?' '+"_u-o":''),t=c('NotificationTracking').getTrackingString(this.props.notification,this.props.row),u=this.props.rowIndex;if(this.state.notifOptionConfirmation)return c('React').createElement('li',{className:s,'data-gt':t,'data-testid':c('NotifTestIDs').NOTIF_LIST_ITEM},c('React').createElement(c('LogicalGridRow.react'),{className:"_dre",rowIndex:u,component:c('React').createElement('div',null)},c('React').createElement(c('LogicalGridCell.react'),{columnIndex:0,component:c('React').createElement('div',null)},c('React').createElement(c('NotificationListItemOptionConfirmation.react'),babelHelpers['extends']({},this.state.notifOptionConfirmation,{onUndoClick:this.$NotificationListItem22,onMenuOptionClick:this.$NotificationListItem16})))));var v=null,w=this.props.notification.conversationConfig;if(w&&w.data){var x=this.props,y=x.isNotifsPage,z=x.isRead,aa=x.shortenTimestamp;v=c('React').createElement(c('NotificationListItemConversationContents.react'),{notification:this.props.notification,isNotifsPage:y,isRead:z,shortenTimestamp:aa});}else v=c('React').createElement(c('NotificationListItemContents.react'),babelHelpers['extends']({},this.props,{hideIcon:this.props.enableHubView===true}));var ba=c('NotificationUtils').getLinkProps(this.props.notification),ca=(r=this.props.notification)!=null?(r=r.title)!=null?r.text:r:r,da=null;if(this.props.enableHubView){da=c('React').createElement(c('Link.react'),{ref:this.$NotificationListItem24,href:ba.href,'aria-label':ca,className:"_33e"+(' '+"_1_0e"),onClick:this.$NotificationListItem4.bind(this,ba.href)},v);}else da=c('React').createElement('a',babelHelpers['extends']({},ba,{'aria-label':ca,className:"_33e"+(' '+"_1_0e"),onClickCapture:this.$NotificationListItem6,onKeyUp:this.$NotificationListItem9}),v,this.$NotificationListItem23());return c('React').createElement('li',{className:s,'data-gt':t,'data-alert-id':this.$NotificationListItem3(),'data-testid':c('NotifTestIDs').NOTIF_LIST_ITEM},c('React').createElement(c('LogicalGridRow.react'),{className:"_dre anchorContainer",rowIndex:u,component:c('React').createElement('div',null)},c('React').createElement(c('LogicalGridCell.react'),{columnIndex:0,component:c('React').createElement('div',null)},da),c('React').createElement('ul',{className:"_55mc"},c('React').createElement(c('LogicalGridCell.react'),{columnIndex:1,component:c('React').createElement('li',{className:"_h_c"})},this.$NotificationListItem14()),c('React').createElement(c('LogicalGridCell.react'),{columnIndex:2,component:c('React').createElement('li',{className:"_h_d"}),disableFocusRecovery:true},this.$NotificationListItem15()))));};f.exports=q;}),null);
__d('NotificationListPropTypes',['React'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i={negativeTracking:h.object,tracking:h.string,notifs:h.object,afterScroll:h.func,enableHubView:h.bool,onChevronShow:h.func,onChevronHide:h.func,onRead:h.func,canFetchMore:h.bool,hiddenState:h.object,readState:h.object,showingChevron:h.bool,paused:h.bool,maxHeight:h.number,shouldScroll:h.bool,notifTab:h.string};f.exports=i;}),null);
__d('NotificationHubUnsavedChangesWarning',['fbt','Promise','Bootloader','React'],(function a(b,c,d,e,f,g,h){'use strict';var i=function k(){return new (c('Promise'))(function(l){c('Bootloader').loadModules(["DialogX","LayerHideOnEscape","PageHooks","XUIDialogTitle.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIGrayText.react"],function(m,n,o,p,q,r,s,t){var u=o.runHooks('onbeforeleavehooks');if(!u){l();return;}var v=new m({width:450,addedBehaviors:[n]},c('React').createElement('div',null,c('React').createElement(p,{showCloseButton:false},h._("Leave Story?")),c('React').createElement(q,null,c('React').createElement(t,{shade:'medium',size:'medium'},u)),c('React').createElement(s,null,c('React').createElement(r,{action:'cancel',label:h._("Stay on This Story")}),c('React').createElement(r,{action:'confirm',use:'confirm',label:h._("Leave This Story")}))));v.subscribe('confirm',function(){v.hide();l();});v.show();},'NotificationHubUnsavedChangesWarning');});},j={check:i};f.exports=j;}),null);
__d('WorkplaceHubEvents',[],(function a(b,c,d,e,f,g){var h={NEXT_NOTIFICATION:'WorkplaceHubEvent/nextNotification',PREV_NOTIFICATION:'WorkplaceHubEvent/prevNotification',OPEN_NOTIFICATION:'WorkplaceHubEvent/openNotification',TOGGLE_READ_STATE:'WorkplaceHubEvent/toggleReadState'};f.exports=h;}),null);
__d('ResizingScrollableArea.react',['Event','React','ScrollableArea.react','debounce','getViewportDimensions'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){var l=c('getViewportDimensions').withoutScrollbars(),m=Math.max(0,l.height-this.props.heightViewportGap);return c('React').createElement(c('ScrollableArea.react'),{width:this.props.width,height:m,onScroll:this.props.onScroll,fade:true,shadow:false},this.props.children);};k.prototype.componentDidMount=function(){this.$ResizingScrollableArea1();};k.prototype.componentDidUpdate=function(l){this.$ResizingScrollableArea1();};k.prototype.$ResizingScrollableArea1=function(){c('Event').listen(window,'resize',c('debounce')(function(){this.forceUpdate();}.bind(this)));};function k(){h.apply(this,arguments);}k.propTypes={width:j.number,heightViewportGap:j.number,onScroll:j.func};f.exports=k;}),null);
__d('HubLoadingResizableScrollableArea.react',['React','ReactDOM','ResizingScrollableArea.react','getScrollPosition','throttle'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.$HubLoadingResizableScrollableArea2=c('throttle')(function(){if(this.props.isLoading()||!this.props.hasMore())return;var p=this.$HubLoadingResizableScrollableArea3();if(!p)return;var q=p.scrollHeight-p.clientHeight-c('getScrollPosition')(p).y;if(q<=this.props.loadThreshold)this.props.onLoadMore();}.bind(this),400),l;}j.prototype.render=function(){return c('React').createElement(c('ResizingScrollableArea.react'),{ref:function(k){return this.$HubLoadingResizableScrollableArea1=k;}.bind(this),heightViewportGap:this.props.heightViewportGap,onScroll:this.$HubLoadingResizableScrollableArea2},this.props.children);};j.prototype.$HubLoadingResizableScrollableArea3=function(){var k=c('ReactDOM').findDOMNode(this.$HubLoadingResizableScrollableArea1);return k&&k instanceof HTMLElement&&k.children[0]&&k.children[0].classList.contains('uiScrollableAreaWrap')?k.children[0]:null;};f.exports=j;}),null);
__d("HubSavedItemsQuery.graphql",[],(function a(b,c,d,e,f,g){'use strict';var h={fragment:{argumentDefinitions:[{kind:"LocalArgument",name:"count",type:"Int!",defaultValue:null},{kind:"LocalArgument",name:"cursor",type:"ID",defaultValue:null}],kind:"Fragment",metadata:null,name:"HubSavedItemsQuery",selections:[{kind:"LinkedField",alias:"viewer",args:null,concreteType:"Viewer",name:"__viewer_viewer",plural:false,selections:[{kind:"FragmentSpread",name:"HubSavedItems_viewer",args:null}],storageKey:null}],type:"Query"},id:"1353134628113492",kind:"Batch",metadata:{},name:"HubSavedItemsQuery",query:{argumentDefinitions:[{kind:"LocalArgument",name:"count",type:"Int!",defaultValue:null},{kind:"LocalArgument",name:"cursor",type:"ID",defaultValue:null}],kind:"Root",name:"HubSavedItemsQuery",operation:"query",selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"Viewer",name:"viewer",plural:false,selections:[{kind:"LinkedField",alias:null,args:[{kind:"Variable",name:"after",variableName:"cursor",type:"ID"},{kind:"Variable",name:"first",variableName:"count",type:"Int"}],concreteType:"UserSavedItemsConnection",name:"saved_items",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"UserSavedItemsEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"TimelineAppCollectionItem",name:"node",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"save_seen_state",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"TextWithEntities",name:"title",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"text",storageKey:null}],storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"TextWithEntities",name:"attribution_text",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"text",storageKey:null}],storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"TextWithEntities",name:"source_title_text",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"text",storageKey:null}],storageKey:null},{kind:"LinkedField",alias:null,args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",name:"image",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"uri",storageKey:null}],storageKey:"image{\"height\":32,\"width\":32}"},{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"source_container",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"__typename",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"InlineFragment",type:"StoryPointer",selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"Story",name:"story",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"url",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null}],storageKey:null}]}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"url",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"__typename",storageKey:null}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"cursor",storageKey:null}],storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"PageInfo",name:"page_info",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"has_next_page",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"end_cursor",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"has_previous_page",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"start_cursor",storageKey:null}],storageKey:null}],storageKey:null},{kind:"LinkedHandle",alias:null,args:[{kind:"Variable",name:"after",variableName:"cursor",type:"ID"},{kind:"Variable",name:"first",variableName:"count",type:"Int"}],handle:"connection",name:"saved_items",key:"HubSavedItems_saved_items",filters:null}],storageKey:null},{kind:"LinkedHandle",alias:null,args:null,handle:"viewer",name:"viewer",key:"",filters:null}]},text:null};f.exports=h;}),null);
__d("HubSavedItems_viewer.graphql",[],(function a(b,c,d,e,f,g){'use strict';var h={argumentDefinitions:[{kind:"RootArgument",name:"cursor",type:"ID"},{kind:"RootArgument",name:"count",type:"Int"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:["saved_items"]}]},name:"HubSavedItems_viewer",selections:[{kind:"LinkedField",alias:"saved_items",args:null,concreteType:"UserSavedItemsConnection",name:"__HubSavedItems_saved_items_connection",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"UserSavedItemsEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"TimelineAppCollectionItem",name:"node",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"FragmentSpread",name:"HubSavedRow_item",args:null},{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"source_container",plural:false,selections:[{kind:"InlineFragment",type:"StoryPointer",selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"Story",name:"story",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"url",storageKey:null}],storageKey:null}]}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"url",storageKey:null}],storageKey:null}],storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"PageInfo",name:"page_info",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"has_next_page",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"end_cursor",storageKey:null}],storageKey:null}],storageKey:null}],type:"Viewer"};f.exports=h;}),null);
__d("HubSavedRow_item.graphql",[],(function a(b,c,d,e,f,g){'use strict';var h={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"HubSavedRow_item",selections:[{kind:"ScalarField",alias:null,args:null,name:"save_seen_state",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"TextWithEntities",name:"title",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"text",storageKey:null}],storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"TextWithEntities",name:"attribution_text",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"text",storageKey:null}],storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"TextWithEntities",name:"source_title_text",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"text",storageKey:null}],storageKey:null},{kind:"LinkedField",alias:null,args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",name:"image",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"uri",storageKey:null}],storageKey:"image{\"height\":32,\"width\":32}"},{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"source_container",plural:false,selections:[{kind:"InlineFragment",type:"StoryPointer",selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"Story",name:"story",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"url",storageKey:null}],storageKey:null}]}],storageKey:null}],type:"TimelineAppCollectionItem"};f.exports=h;}),null);
__d('HubSavedRow.react',['cx','Image.react','React','XUIGrayText.react','XUIText.react','RelayModern','idx','HubSavedRow_item.graphql'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('RelayModern').createFragmentContainer,l=c('RelayModern').graphql;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$HubSavedRow1=function(s){s.preventDefault();this.props.onClick();}.bind(this),o;}m.prototype.render=function(){var n,o,p,q,r,s=this.props,t=s.item,u=s.selected,v=t.save_seen_state==='NOT_SEEN',w=(n=t)!=null?(n=n.title)!=null?n.text:n:n,x=(o=t)!=null?(o=o.attribution_text)!=null?o.text:o:o,y=(p=t)!=null?(p=p.source_title_text)!=null?p.text:p:p,z=(q=t)!=null?(q=q.image)!=null?q.uri:q:q,aa=((r=t)!=null?(r=r.source_container)!=null?(r=r.story)!=null?r.url:r:r:r)||'#';return c('React').createElement('a',{href:aa,onClick:this.$HubSavedRow1,className:"_2z2r"+(v?' '+"_2z2u":'')+(u?' '+"_2z2v":'')},c('React').createElement('div',{className:"_2z2w"},z&&c('React').createElement(c('Image.react'),{width:32,height:32,src:z})),c('React').createElement('div',{className:"_2z2x"},c('React').createElement(c('XUIText.react'),{weight:'bold'},w),' ',y&&c('React').createElement('span',null,'\u2013 ',c('React').createElement(c('XUIText.react'),{weight:'bold'},y)),c('React').createElement(c('XUIGrayText.react'),{display:'block'},x)));};f.exports=k(m,{item:function n(){return c('HubSavedRow_item.graphql');}});}),null);
__d('HubSavedItems.react',['cx','HubLoadingResizableScrollableArea.react','HubSavedRow.react','React','WorkplaceHubView','XUISpinner.react','Arbiter','SubscriptionsHandler','WorkplaceHubEvents','RelayModern','idx','HubSavedItems_viewer.graphql','HubSavedItemsQuery.graphql'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('RelayModern').createPaginationContainer,l=c('RelayModern').graphql;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={selectedIndex:null},this.$HubSavedItems6=function(){return this.props.relay.hasMore();}.bind(this),this.$HubSavedItems7=function(){return this.props.relay.isLoading();}.bind(this),this.$HubSavedItems5=function(){this.props.relay.loadMore(10,function(){});}.bind(this),this.$HubSavedItems3=this.$HubSavedItems9(function(s){return s-1;}),this.$HubSavedItems2=this.$HubSavedItems9(function(s){return s+1;}),o;}m.prototype.componentDidMount=function(){this.$HubSavedItems1=new (c('SubscriptionsHandler'))();this.$HubSavedItems1.addSubscriptions(c('Arbiter').subscribe(c('WorkplaceHubEvents').NEXT_NOTIFICATION,this.$HubSavedItems2),c('Arbiter').subscribe(c('WorkplaceHubEvents').PREV_NOTIFICATION,this.$HubSavedItems3));};m.prototype.componentWillUnmount=function(){this.$HubSavedItems1&&this.$HubSavedItems1.release();};m.prototype.componentDidUpdate=function(n,o){var p=this.state.selectedIndex;if(p!=null&&p!==o.selectedIndex){var q,r,s=(q=this.$HubSavedItems4())!=null?(q=q[p])!=null?q.node:q:q,t=(r=s)!=null?(r=r.source_container)!=null?r.story:r:r;if(t&&t.id&&t.url){c('WorkplaceHubView').loadSavedStory(t.id,t.url);}else if(s&&s.url){c('WorkplaceHubView').loadContainerlessSavedStory(s.url);}}};m.prototype.$HubSavedItems4=function(){var n;return ((n=this.props.viewer)!=null?(n=n.saved_items)!=null?n.edges:n:n)||[];};m.prototype.render=function(){return c('React').createElement(c('HubLoadingResizableScrollableArea.react'),{heightViewportGap:this.props.heightViewportGap,onLoadMore:this.$HubSavedItems5,hasMore:this.$HubSavedItems6,isLoading:this.$HubSavedItems7,loadThreshold:200},this.$HubSavedItems4().map(function(n,o){return n.node?c('React').createElement(c('HubSavedRow.react'),{key:n.node.id,item:n.node,onClick:function(){return this.$HubSavedItems8(o);}.bind(this),selected:this.state.selectedIndex===o}):null;}.bind(this)),this.$HubSavedItems6()&&c('React').createElement('div',{className:"_2z2y"},c('React').createElement(c('XUISpinner.react'),{size:'large'})));};m.prototype.$HubSavedItems8=function(n){this.setState({selectedIndex:n});};m.prototype.$HubSavedItems9=function(n){return function(){var o=this.$HubSavedItems4();if(!o.length)return;if(this.state.selectedIndex==null){this.setState({selectedIndex:0});}else{var p=n(this.state.selectedIndex);if(o[p])this.setState({selectedIndex:p});}}.bind(this);};f.exports=k(m,{viewer:function n(){return c('HubSavedItems_viewer.graphql');}},{direction:'forward',getVariables:function n(o,p){var q=p.count,r=p.cursor;return {count:q,cursor:r};},query:function n(){return c('HubSavedItemsQuery.graphql');}});}),null);
__d("HubSavedItemsContainerQuery.graphql",[],(function a(b,c,d,e,f,g){'use strict';var h={fragment:{argumentDefinitions:[{kind:"LocalArgument",name:"count",type:"Int!",defaultValue:null},{kind:"LocalArgument",name:"cursor",type:"ID",defaultValue:null}],kind:"Fragment",metadata:null,name:"HubSavedItemsContainerQuery",selections:[{kind:"LinkedField",alias:"viewer",args:null,concreteType:"Viewer",name:"__viewer_viewer",plural:false,selections:[{kind:"FragmentSpread",name:"HubSavedItems_viewer",args:null}],storageKey:null}],type:"Query"},id:"1577627132270814",kind:"Batch",metadata:{},name:"HubSavedItemsContainerQuery",query:{argumentDefinitions:[{kind:"LocalArgument",name:"count",type:"Int!",defaultValue:null},{kind:"LocalArgument",name:"cursor",type:"ID",defaultValue:null}],kind:"Root",name:"HubSavedItemsContainerQuery",operation:"query",selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"Viewer",name:"viewer",plural:false,selections:[{kind:"LinkedField",alias:null,args:[{kind:"Variable",name:"after",variableName:"cursor",type:"ID"},{kind:"Variable",name:"first",variableName:"count",type:"Int"}],concreteType:"UserSavedItemsConnection",name:"saved_items",plural:false,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"UserSavedItemsEdge",name:"edges",plural:true,selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"TimelineAppCollectionItem",name:"node",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"save_seen_state",storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"TextWithEntities",name:"title",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"text",storageKey:null}],storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"TextWithEntities",name:"attribution_text",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"text",storageKey:null}],storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"TextWithEntities",name:"source_title_text",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"text",storageKey:null}],storageKey:null},{kind:"LinkedField",alias:null,args:[{kind:"Literal",name:"height",value:32,type:"Int"},{kind:"Literal",name:"width",value:32,type:"Int"}],concreteType:"Image",name:"image",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"uri",storageKey:null}],storageKey:"image{\"height\":32,\"width\":32}"},{kind:"LinkedField",alias:null,args:null,concreteType:null,name:"source_container",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"__typename",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null},{kind:"InlineFragment",type:"StoryPointer",selections:[{kind:"LinkedField",alias:null,args:null,concreteType:"Story",name:"story",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"url",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"id",storageKey:null}],storageKey:null}]}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"url",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"__typename",storageKey:null}],storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"cursor",storageKey:null}],storageKey:null},{kind:"LinkedField",alias:null,args:null,concreteType:"PageInfo",name:"page_info",plural:false,selections:[{kind:"ScalarField",alias:null,args:null,name:"has_next_page",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"end_cursor",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"has_previous_page",storageKey:null},{kind:"ScalarField",alias:null,args:null,name:"start_cursor",storageKey:null}],storageKey:null}],storageKey:null},{kind:"LinkedHandle",alias:null,args:[{kind:"Variable",name:"after",variableName:"cursor",type:"ID"},{kind:"Variable",name:"first",variableName:"count",type:"Int"}],handle:"connection",name:"saved_items",key:"HubSavedItems_saved_items",filters:null}],storageKey:null},{kind:"LinkedHandle",alias:null,args:null,handle:"viewer",name:"viewer",key:"",filters:null}]},text:null};f.exports=h;}),null);
__d('HubSavedItemsContainer.react',['cx','HubSavedItems.react','LoadingIndicator.react','React','RelayFBEnvironment','RelayModern','idx','HubSavedItemsContainerQuery.graphql'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('RelayModern').graphql,l=c('RelayModern').QueryRenderer,m=function o(){return c('HubSavedItemsContainerQuery.graphql');};i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.$HubSavedItemsContainer1=function(t){var u,v=t.props;if(!v)return c('React').createElement(c('LoadingIndicator.react'),{color:'white',size:'large',className:"_1nxs"});var w=(u=v)!=null?u.viewer:u;return c('React').createElement(c('HubSavedItems.react'),babelHelpers['extends']({},this.props,{viewer:w}));}.bind(this),p;}n.prototype.render=function(){return c('React').createElement(l,{environment:c('RelayFBEnvironment'),query:m,variables:{count:20},render:this.$HubSavedItemsContainer1});};f.exports=n;}),null);
__d('WorkHubTabSpecs',['NotificationClassification','WorkHubTab','WorkGKs'],(function a(b,c,d,e,f,g){'use strict';var h=[{title:c('WorkHubTab').ALL,logName:'all'},{title:c('WorkHubTab').UNREAD,filter:'unread',logName:'unread'},{title:c('WorkHubTab').CONVERSATIONS,classification:c('NotificationClassification').CONVERSATIONS,logName:'conversations'},{title:c('WorkHubTab').MULTICOMPANY,classification:c('NotificationClassification').MULTI_COMPANY_GROUPS,logName:'multicompany'},{title:c('WorkHubTab').SAVED,logName:'saved',gk:c('WorkGKs').work_hub_saved}];f.exports=h;}),null);
__d('XUISubNavigation.react',['ix','cx','fbt','React','ReactDOM','Image.react','XUISubNavigation','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){var k,l;k=babelHelpers.inherits(m,c('React').Component);l=k&&k.prototype;m.prototype.render=function(){'use strict';var n=c('React').Children.toArray(this.props.children),o=this.props,p=o.maxVisible,q=o.selected;if(q)n=n.map(function(t){if(t.props.itemKey===q)t=c('React').cloneElement(t,{selected:true});return t;});var r=null;if(p&&n.length>p){var s=c('React').createElement('a',{className:"_1fsj",href:'#',key:'overflowLink',ref:'overflowLink'},c('React').createElement(c('Image.react'),{className:"_s6o",src:h("125305")}),j._("Ver m\u00e1s"));r=c('React').createElement('div',{className:"_1fsh"},n.slice(p),s);n=n.slice(0,p);}return c('React').createElement('div',{className:"_2fvv"},n,r);};m.prototype.componentDidMount=function(){'use strict';var n=c('ReactDOM').findDOMNode(this);if(n instanceof HTMLElement){var o=c('ReactDOM').findDOMNode(this.refs.overflowLink);this.$XUISubNavigation1=new (c('XUISubNavigation'))(n,o instanceof HTMLElement?o:null);}};m.prototype.componentWillUnmount=function(){'use strict';this.$XUISubNavigation1.destroy();};function m(){'use strict';k.apply(this,arguments);}f.exports=m;}),null);
__d('XUISubNavigationItem.react',['ix','cx','fbt','AbstractBadge.react','Link.react','PopoverMenu.react','React','Image.react','XUISpinner.react','fbglyph','joinClasses'],(function a(b,c,d,e,f,g,h,i,j){var k,l;k=babelHelpers.inherits(m,c('React').Component);l=k&&k.prototype;m.prototype.render=function(){'use strict';var n=c('React').Children.toArray(this.props.children),o=this.props,p=o.count,q=o.endpoint,r=o.icon,s=o.menu;if(s)s=c('React').createElement(c('PopoverMenu.react'),{alignh:'left',alignv:'middle',autoflip:true,className:"_2yax",dynamicoffsety:true,hasarrow:true,menu:s,position:'right'},c('React').createElement(c('Link.react'),{className:"_5n0n",role:'button'},c('React').createElement(c('Image.react'),{alt:j._("Abrir"),src:h("123797")})));if(r)r=c('React').createElement(c('Image.react'),{className:"_2yaw",height:'16',src:r,width:'16'});var t=null;if(q)t=c('React').createElement(c('XUISpinner.react'),{className:"_2wwb"});var u='false';if(this.props.selected)u='page';var v=c('React').createElement('a',{className:"_2yau",'data-endpoint':q,href:this.props.href,rel:this.props.rel,'aria-current':u},r,c('React').createElement('span',{className:"_2yav"},n[0]),t,this.props.accessory),w=this.props.className,x="_2yaa"+(!!s?' '+"_5n0o":'');if(n.length===1){if(this.props.selected)w=c('joinClasses')(w,"_2yap");return c('React').createElement('div',{className:c('joinClasses')(w,x)},v,s);}return c('React').createElement('div',{className:w},c('React').createElement('div',{className:x},v,s),c('React').createElement('div',{className:"_3o_h"},n[n.length-1]));};function m(){'use strict';k.apply(this,arguments);}f.exports=m;}),null);
__d('WorkplaceHubNav.react',['cx','fbt','HubNavActions','HubNavStore','InputLabel.react','NotificationConstants','NotificationHubUnsavedChangesWarning','NotificationSeenState','NotificationUpdates','PageTransitions','React','SubscriptionsHandler','WorkHubTab','WorkHubTabSpecs','XUIButton.react','XUICard.react','XUICardHeader.react','XUICardHeaderTitle.react','XUICardSection.react','XUICheckboxInput.react','XUISubNavigation.react','XUISubNavigationItem.react','isEmpty'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('NotificationConstants').PayloadSourceType.LIVE_SEND;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){k.constructor.call(this);this.$WorkplaceHubNav1=new (c('SubscriptionsHandler'))();this.$WorkplaceHubNav1.addSubscriptions(c('HubNavStore').addListener(function(q){this.forceUpdate();}.bind(this)));this.$WorkplaceHubNav1.addSubscriptions(c('NotificationUpdates').subscribe('notifications-updated',function(q,r){if(r.source===l&&!c('isEmpty')(r.updates))this.setState({unreadCount:c('NotificationSeenState').getUnreadIDs().length});}.bind(this)),c('NotificationUpdates').subscribe('read-state-updated',function(q,r){this.setState({unreadCount:c('NotificationSeenState').getUnreadIDs().length});}.bind(this)));this.state={unreadCount:0};}m.prototype.componentWillUnmount=function(){this.$WorkplaceHubNav1.release();};m.prototype.$WorkplaceHubNav2=function(q){c('NotificationHubUnsavedChangesWarning').check().done(function(){c('HubNavActions').tabChanged(q);});};m.prototype.render=function(){var q=c('WorkHubTabSpecs').filter(function(s){if(s.gk===false)return false;if(s.title===c('WorkHubTab').MULTICOMPANY)return this.props.showMultiCompanyGroups;return true;}.bind(this)).map(function(s){var t=c('HubNavStore').getSelectedTab()===s.title,u=s.title,v=[c('WorkHubTab').ALL,c('WorkHubTab').UNREAD];if(v.includes(s.title)&&this.state.unreadCount>0)u+=' ('+this.state.unreadCount+')';return c('React').createElement('div',{key:s.title,onClick:function(){return this.$WorkplaceHubNav2(s.title);}.bind(this),role:'presentation'},c('React').createElement(c('XUISubNavigationItem.react'),{selected:t},u));}.bind(this)),r=this.props.showFeedButton?c('React').createElement(c('XUIButton.react'),{className:"_1c3a",href:'/?sk=nf',label:i._("Go to News Feed"),use:p()}):null;return c('React').createElement('div',null,c('React').createElement(c('XUISubNavigation.react'),null,q),r,c('React').createElement(c('XUICard.react'),{className:"_3jj-",background:'light-wash'},c('React').createElement(c('XUICardHeader.react'),{type:'secondary'},c('React').createElement(c('XUICardHeaderTitle.react'),null,i._("Settings"))),c('React').createElement(c('XUICardSection.react'),{className:"_3jj_"},c('React').createElement(c('InputLabel.react'),null,c('React').createElement(c('XUICheckboxInput.react'),{checked:c('HubNavStore').getHideReactions(),onClick:n}),c('React').createElement('label',null,i._("Hide reactions"))),c('React').createElement(c('InputLabel.react'),null,c('React').createElement(c('XUICheckboxInput.react'),{checked:c('HubNavStore').getOpenNewWindow(),onClick:o}),c('React').createElement('label',null,i._("Open links in new window"))))));};function n(event){c('HubNavActions').hideReactionsChanged(!c('HubNavStore').getHideReactions());}function o(event){c('HubNavActions').openNewWindowChanged(!c('HubNavStore').getOpenNewWindow());}function p(){var q=c('PageTransitions').getMostRecentURI();if(q&&q.getPath()==='/'&&q.getQueryData().ref)return 'special';return 'default';}f.exports=m;}),null);
__d("XWorkHubController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/notifications\/hub\/{?tab}\/",{ref:{type:"String"},tab:{type:"String"}});}),null);
__d('WorkplaceHubNotificationCard.react',['fbt','CurrentUser','FavIcon','HubNavActions','HubNavStore','Link.react','NotificationConstants','NotificationList.react','NotificationSeenState','NotificationUpdates','NotificationUserActions','React','ResizingScrollableArea.react','Run','SubscriptionsHandler','WorkHubTab','WorkHubTabSpecs','HubSavedItemsContainer.react','XUICardHeader.react','XUICardHeaderTitle.react','XUICard.react','XUICardSection.react','XWorkHubController','isEmpty','nullthrows'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=30000,l=208,m=l-43,n=c('NotificationConstants').PayloadSourceType.LIVE_SEND;i=babelHelpers.inherits(o,c('React').Component);j=i&&i.prototype;function o(p){j.constructor.call(this,p);this.$WorkplaceHubNotificationCard4=function(){if(this.$WorkplaceHubNotificationCard5()){this.$WorkplaceHubNotificationCard6();}else if(this.$WorkplaceHubNotificationCard2){clearTimeout(this.$WorkplaceHubNotificationCard2);this.$WorkplaceHubNotificationCard2=0;}var r=c('HubNavStore').getState(),s=c('nullthrows')(c('WorkHubTabSpecs').find(function(u){return u.title===r.selectedTab;})),t=c('XWorkHubController').getURIBuilder().setString('tab',s.logName).getURI();if(r.addedToHistory)window.history.pushState(t.getQualifiedURIBase().toString(),null,t);this.forceUpdate();}.bind(this);this.$WorkplaceHubNotificationCard6=function(){if(this.$WorkplaceHubNotificationCard2){clearTimeout(this.$WorkplaceHubNotificationCard2);this.$WorkplaceHubNotificationCard2=0;}this.setState({shouldPauseUnread:false});setTimeout(this.setState.bind(this,{shouldPauseUnread:true}),0);}.bind(this);this.$WorkplaceHubNotificationCard11=function(){this.setState({shouldScroll:!this.state.shouldScroll});}.bind(this);this.$WorkplaceHubNotificationCard1=new (c('SubscriptionsHandler'))();this.$WorkplaceHubNotificationCard2=0;this.state={shouldPauseUnread:true,shouldScroll:false};var q=c('CurrentUser').isWorkUser()?'/images/work/favicon-workplace-notice.png':'/images/icons/unread_favicon.ico';c('FavIcon').setToggleResources(q);c('Run').onLeave(this.$WorkplaceHubNotificationCard3.bind(this));this.$WorkplaceHubNotificationCard1.addSubscriptions(c('HubNavStore').addListener(this.$WorkplaceHubNotificationCard4));}o.prototype.$WorkplaceHubNotificationCard3=function(){c('FavIcon').toggleSet(false);this.$WorkplaceHubNotificationCard1.release();if(this.$WorkplaceHubNotificationCard2){clearTimeout(this.$WorkplaceHubNotificationCard2);this.$WorkplaceHubNotificationCard2=0;}};o.prototype.componentWillMount=function(){this.$WorkplaceHubNotificationCard1.addSubscriptions(c('NotificationUpdates').subscribe('notifications-updated',function(p,q){if(q.source==n&&!c('isEmpty')(q.updates)){if(this.$WorkplaceHubNotificationCard5())this.$WorkplaceHubNotificationCard6();this.$WorkplaceHubNotificationCard7();}}.bind(this)),c('NotificationUpdates').subscribe('read-state-updated',function(p,q){if(this.$WorkplaceHubNotificationCard5())this.$WorkplaceHubNotificationCard8();this.$WorkplaceHubNotificationCard7();}.bind(this)));};o.prototype.componentWillReceiveProps=function(p){if(p.startingTab!==this.props.startingTab)this.$WorkplaceHubNotificationCard9(p.startingTab);};o.prototype.componentDidMount=function(){this.$WorkplaceHubNotificationCard9(this.props.startingTab);};o.prototype.componentWillUnmount=function(){this.$WorkplaceHubNotificationCard3();};o.prototype.render=function(){var p=this.$WorkplaceHubNotificationCard10(),q=p.title===c('WorkHubTab').UNREAD&&this.state.shouldPauseUnread,r=p.title===c('WorkHubTab').SAVED?m:l,s=p.title===c('WorkHubTab').SAVED?c('React').createElement(c('HubSavedItemsContainer.react'),{heightViewportGap:r}):c('React').createElement(c('NotificationList.react'),{key:p.title,classification:p.classification,enableHubView:this.props.notifConfig.enableHubView,enableMarkUnread:this.props.notifConfig.enableMarkUnread,filter:p.filter,hideReactions:this.props.hideReactions,listRenderer:this.props.notifConfig.listRenderer,negativeTracking:this.props.notifConfig.negativeTracking,numPerPage:this.props.notifConfig.numPerPage,paused:q,shouldScroll:this.state.shouldScroll,tracking:this.props.notifConfig.tracking}),t=p.title===c('WorkHubTab')?s:c('React').createElement(c('ResizingScrollableArea.react'),{heightViewportGap:r,onScroll:this.$WorkplaceHubNotificationCard11},s),u=c('React').createElement(c('Link.react'),{href:'#',onClick:this.$WorkplaceHubNotificationCard12},h._("Marcar todas como le\u00eddas")),v=p.title===c('WorkHubTab').SAVED?null:c('React').createElement(c('XUICardHeader.react'),{link:u,type:'primary'},c('React').createElement(c('XUICardHeaderTitle.react'),null,h._("Notificaciones")));return c('React').createElement(c('XUICard.react'),null,v,c('React').createElement(c('XUICardSection.react'),null,t));};o.prototype.$WorkplaceHubNotificationCard10=function(){return c('nullthrows')(c('WorkHubTabSpecs').find(function(p){return p.title===c('HubNavStore').getSelectedTab();})||c('WorkHubTabSpecs')[0]);};o.prototype.$WorkplaceHubNotificationCard9=function(p){var q=c('WorkHubTabSpecs').find(function(r){return r.logName===p;});if(c('HubNavStore').getSelectedTab()!==this.$WorkplaceHubNotificationCard10().title)c('HubNavActions').tabChanged(q?q.title:c('WorkHubTab').ALL,false);};o.prototype.$WorkplaceHubNotificationCard12=function(){c('NotificationUserActions').markAllNotificationsAsRead();};o.prototype.$WorkplaceHubNotificationCard5=function(){return c('HubNavStore').getSelectedTab()===c('WorkHubTab').UNREAD;};o.prototype.$WorkplaceHubNotificationCard8=function(){if(this.$WorkplaceHubNotificationCard2)clearTimeout(this.$WorkplaceHubNotificationCard2);this.$WorkplaceHubNotificationCard2=setTimeout(this.$WorkplaceHubNotificationCard6,k);};o.prototype.$WorkplaceHubNotificationCard7=function(){var p=c('NotificationSeenState').getUnreadCount();c('FavIcon').toggleSet(p>0);};f.exports=o;}),null);
__d('HubNavDispatcher',['ExplicitRegistrationDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('ExplicitRegistrationDispatcher'));i=h&&h.prototype;function j(){h.apply(this,arguments);}f.exports=new j({strict:true});}),null);
__d('WorkHubTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:WorkHubLoggerConfig',this.$WorkHubTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:WorkHubLoggerConfig',this.$WorkHubTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$WorkHubTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$WorkHubTypedLogger1=babelHelpers['extends']({},this.$WorkHubTypedLogger1,j);return this;};h.prototype.setAction=function(j){this.$WorkHubTypedLogger1.action=j;return this;};h.prototype.updateExtraData=function(j){j=c('nullthrows')(c('GeneratedLoggerUtils').serializeMap(j));c('GeneratedLoggerUtils').checkExtraDataFieldNames(j,i);this.$WorkHubTypedLogger1=babelHelpers['extends']({},this.$WorkHubTypedLogger1,j);return this;};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l);};var i={action:true};f.exports=h;}),null);
__d('WorkplaceHubHelpDialog',['cx','fbt','React','SimpleXUIDialog'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=false;function k(){if(j)return;j=true;c('SimpleXUIDialog').show(c('React').createElement('div',null,c('React').createElement('ul',null,c('React').createElement('li',null,c('React').createElement('span',{className:"_5hbk"},'j'),' ,',c('React').createElement('span',{className:"_5hbk"},'k'),' ,',c('React').createElement('span',{className:"_5hbk"},i._("bajar")),c('React').createElement('span',{className:"_5hbk"},i._("subir")),'\u00A0-\u00A0',i._("Move between stories (hold Shift to skip to next notification)")),c('React').createElement('li',null,c('React').createElement('span',{className:"_5hbk"},'r'),'\u00A0-\u00A0',i._("Marcar como le\u00edda")),c('React').createElement('li',null,c('React').createElement('span',{className:"_5hbk"},'l'),'\u00A0-\u00A0',i._("Like or unlike the selected story")),c('React').createElement('li',null,c('React').createElement('span',{className:"_5hbk"},'c'),'\u00A0-\u00A0',i._("Comment on the selected story")),c('React').createElement('li',null,c('React').createElement('span',{className:"_5hbk"},'o'),'\u00A0-\u00A0',i._("Abrir la historia en una pesta\u00f1a nueva")))),c('React').createElement('span',null,'Keyboard Shortcut Help'),function(){j=false;});}f.exports={show:k};}),null);
__d('WorkplaceHubKeyboardShortcuts',['csx','Arbiter','DOMQuery','FbFeedKeyboardController','KeyboardShortcuts','LikeConfirmer','NavigationMessage','Run','SubscriptionsHandler','WorkplaceHubEvents','WorkplaceHubHelpDialog','WorkHubTypedLogger','WorkHubLogAction','$'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('FbFeedKeyboardController'));j=i&&i.prototype;function k(){j.constructor.call(this,document.body);this.$WorkplaceHubKeyboardShortcuts2=function(l){if(l.shiftKey){new (c('WorkHubTypedLogger'))().setAction(c('WorkHubLogAction').KEYBOARD_SHORTCUT_NEXT_NOTIF_ONLY).log();}else{new (c('WorkHubTypedLogger'))().setAction(c('WorkHubLogAction').KEYBOARD_SHORTCUT_NEXT).log();var m=this.getStories();if(m.length>1){if(!this.selected)this.selected=m[0];if(m.findIndex(function(n){return n==this.selected;}.bind(this))!=m.length-1){this.vert(1);return;}}}c('Arbiter').inform(c('WorkplaceHubEvents').NEXT_NOTIFICATION);}.bind(this);this.$WorkplaceHubKeyboardShortcuts3=function(l){if(l.shiftKey){new (c('WorkHubTypedLogger'))().setAction(c('WorkHubLogAction').KEYBOARD_SHORTCUT_PREV_NOTIF_ONLY).log();}else{new (c('WorkHubTypedLogger'))().setAction(c('WorkHubLogAction').KEYBOARD_SHORTCUT_PREV).log();var m=this.getStories();if(m.length>1)if(m.findIndex(function(n){return n==this.selected;}.bind(this))>0){this.vert(-1);return;}}c('Arbiter').inform(c('WorkplaceHubEvents').PREV_NOTIFICATION);}.bind(this);this.$WorkplaceHubKeyboardShortcuts1=function(){this.subscriptions&&this.subscriptions.release();}.bind(this);this.subscriptions=new (c('SubscriptionsHandler'))();this.subscriptions.addSubscriptions(c('Arbiter').subscribe(c('NavigationMessage').NAVIGATION_BEGIN,this.$WorkplaceHubKeyboardShortcuts1),c('Run').onLeave(this.$WorkplaceHubKeyboardShortcuts1),c('KeyboardShortcuts').register('SLASH',function(){return c('WorkplaceHubHelpDialog').show();},{filter:function l(event,m){return event.getModifiers().shift;}}),c('KeyboardShortcuts').register('DOWN',this.$WorkplaceHubKeyboardShortcuts2),c('KeyboardShortcuts').register('j',this.$WorkplaceHubKeyboardShortcuts2),c('KeyboardShortcuts').register('UP',this.$WorkplaceHubKeyboardShortcuts3),c('KeyboardShortcuts').register('k',this.$WorkplaceHubKeyboardShortcuts3),c('KeyboardShortcuts').register('O',this.$WorkplaceHubKeyboardShortcuts4),c('KeyboardShortcuts').register('r',this.$WorkplaceHubKeyboardShortcuts5),c('KeyboardShortcuts').register('l',function(){this.activateStory();var l=this.getParentStory(this.selected);c('LikeConfirmer').like(function(){this.setSelected(l,false);this.clickLike();}.bind(this),this.selected);}.bind(this),{filter:this.hasStories.bind(this)}),c('KeyboardShortcuts').register('c',function(){this.activateStory();this.clickComment();}.bind(this),{filter:this.hasStories.bind(this)}));}k.prototype.init=function(){};k.prototype.$WorkplaceHubKeyboardShortcuts4=function(){c('Arbiter').inform(c('WorkplaceHubEvents').OPEN_NOTIFICATION);new (c('WorkHubTypedLogger'))().setAction(c('WorkHubLogAction').KEYBOARD_SHORTCUT_OPEN).log();};k.prototype.getStories=function(){var l=c('$')('workHubNotifStories'),m=l?c('DOMQuery').scry(l,"._5v9_"):[];return m.length>0?m:l?c('DOMQuery').scry(l,"._5jmm"):[];};k.prototype.$WorkplaceHubKeyboardShortcuts5=function(){c('Arbiter').inform(c('WorkplaceHubEvents').TOGGLE_READ_STATE);new (c('WorkHubTypedLogger'))().setAction(c('WorkHubLogAction').KEYBOARD_SHORTCUT_TOGGLE_READ).log();};k.prototype.getNextSibling=function(l){var m=this.getStories(),n=m.findIndex(function(o){return o==this.selected;}.bind(this));return n!=-1&&n<m.length-1?m[n+1]:this.selected;};k.prototype.getPreviousSibling=function(l){var m=this.getStories(),n=m.findIndex(function(o){return o==this.selected;}.bind(this));return n!=-1&&n>0?m[n-1]:this.selected;};k.prototype.activateStory=function(){var l=this.getStories();if(l.length==0){return;}else if(l.length==1||l.findIndex(function(m){return m==this.selected;}.bind(this))<0)this.setSelected(l[0],true);};k.prototype.hasStories=function(){var l=this.getStories();return l&&l.length>0;};k.init=function(){return new k();};f.exports=k;}),null);
__d("XWorkHubStoryController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/hub\/story\/",{alert_id:{type:"String"},comment_id:{type:"Int"},encoded_story_token:{type:"String"},id:{type:"Int"},ref:{type:"String"},reply_comment_id:{type:"Int"},story_token:{type:"String"}});}),null);
__d('WorkplaceHubView',['cx','fbt','AsyncRequest','CurrentUser','HubNavActions','HubNavDispatcher','HubNavStore','PageTransitions','React','ReactDOM','ResizingScrollableArea.react','SubscriptionsHandler','WorkplaceHubKeyboardShortcuts','WorkplaceHubNav.react','WorkplaceHubNotificationCard.react','WorkHubTab','WorkHubTabSpecs','XUICard.react','XUIGrayText.react','XWorkHubController','XWorkHubStoryController','ge'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=162;function k(){this.$WorkplaceHubView3=new (c('SubscriptionsHandler'))();}k.prototype.init=function(o,p,q,r,s,t){c('HubNavDispatcher').explicitlyRegisterStore(c('HubNavStore'));c('PageTransitions').registerHandler(l);c('WorkplaceHubKeyboardShortcuts').init();this.$WorkplaceHubView3.addSubscriptions(c('HubNavStore').addListener(function(w){this.$WorkplaceHubView5(o,p,this.getStoredTabName());}.bind(this)));this.$WorkplaceHubView5(o,p,t);c('ReactDOM').render(c('React').createElement(c('WorkplaceHubNav.react'),{showFeedButton:p.showFeedButton,showMultiCompanyGroups:q}),s);if(!t){var u=this.getStoredTabName();if(u){var v=c('XWorkHubController').getURIBuilder().setString('tab',u).getURI();window.history.replaceState(v.getQualifiedURIBase().toString(),null,v.toString());}}};k.prototype.$WorkplaceHubView5=function(o,p,q){c('ReactDOM').render(c('React').createElement(c('WorkplaceHubNotificationCard.react'),{hideReactions:c('HubNavStore').getHideReactions(),notifConfig:p,startingTab:q?q:this.getStoredTabName()}),o);};k.prototype.getStoredTabName=function(){var o=c('HubNavStore').getSelectedTab(),p=c('WorkHubTabSpecs').find(function(q){return q.title===o;});return p?p.logName:null;};k.prototype.createStoryPreview=function(o){this.$WorkplaceHubView2=o;this.renderStoryPreview();};k.prototype.renderStoryPreview=function(){var o=c('React').createElement('div',{id:'workHubNotifStories',ref:function(p){this.$WorkplaceHubView1=p;}.bind(this)});c('ReactDOM').render(c('React').createElement(c('ResizingScrollableArea.react'),{heightViewportGap:j},o),this.$WorkplaceHubView2);};k.prototype.emptyPreview=function(){if(this.$WorkplaceHubView1)c('ReactDOM').unmountComponentAtNode(this.$WorkplaceHubView1);};k.prototype.showSpinner=function(){if(!c('ge')('workHubNotifSpinner'))c('ReactDOM').render(c('React').createElement(c('XUICard.react'),{id:'workHubNotifSpinner',className:"_2iwp"},c('React').createElement('div',{className:"_2iwo"},c('React').createElement('div',{className:"_2iwq"},c('React').createElement('div',{className:"_2iwr"}),c('React').createElement('div',{className:"_2iws"}),c('React').createElement('div',{className:"_2iwt"}),c('React').createElement('div',{className:"_2iwu"}),c('React').createElement('div',{className:"_2iwv"}),c('React').createElement('div',{className:"_2iww"}),c('React').createElement('div',{className:"_2iwx"}),c('React').createElement('div',{className:"_2iwy"}),c('React').createElement('div',{className:"_2iwz"}),c('React').createElement('div',{className:"_2iw-"}),c('React').createElement('div',{className:"_2iw_"}),c('React').createElement('div',{className:"_2ix0"})))),this.$WorkplaceHubView1);};k.prototype.$WorkplaceHubView6=function(o){var p=o.match(/comment_id=(\d+)/);return p?Number(p[1]):null;};k.prototype.$WorkplaceHubView7=function(o){var p=o.match(/reply_comment_id=(\d+)/);return p?Number(p[1]):null;};k.prototype.loadPreview=function(o,p){var q=this.$WorkplaceHubView6(p),r=this.$WorkplaceHubView7(p),s=c('XWorkHubStoryController').getURIBuilder().setString('alert_id',o).setInt('comment_id',r?null:q).setInt('reply_comment_id',r).getURI();this.$WorkplaceHubView8(s,p);};k.prototype.loadSavedStory=function(o,p){var q=c('XWorkHubStoryController').getURIBuilder().setString('encoded_story_token',o).getURI();this.$WorkplaceHubView8(q,p);};k.prototype.loadContainerlessSavedStory=function(o){window.open(o);var p=c('React').createElement('div',{className:"_rrw _2o1n _2pi6"},c('React').createElement(c('XUIGrayText.react'),{size:'large',display:'block',weight:'bold'},i._("External Save")),c('React').createElement(c('XUIGrayText.react'),{display:'block'},i._("The selected save item doesn't have an associated story to preview. The URL has been opened in a separate browser tab.")));c('ReactDOM').render(p,this.$WorkplaceHubView1);};k.prototype.$WorkplaceHubView8=function(o,p){this.showSpinner();this.$WorkplaceHubView4&&this.$WorkplaceHubView4.abort();this.$WorkplaceHubView4=new (c('AsyncRequest'))(o).setErrorHandler(this.$WorkplaceHubView9.bind(this,p)).setHandler(function(q){return this.renderStoryPreview();}.bind(this));this.$WorkplaceHubView4.send();};k.prototype.$WorkplaceHubView9=function(o){window.open(o);var p=c('CurrentUser').isEmployee()&&c('CurrentUser').isWorkUser()?c('React').createElement(c('XUIGrayText.react'),{display:'block'},i._("Engineers who'd very much like to earn your affection are working around the clock to resolve this issue, crying softly to themselves as they contemplate where, oh where, in their childhood they could have gotten it wrong. This will be fixed. It shall be so.")):null,q=c('React').createElement('div',{className:"_rrw _2o1n _2pi6"},c('React').createElement(c('XUIGrayText.react'),{size:'large',display:'block',weight:'bold'},i._("Tipo de historia no admitido")),c('React').createElement(c('XUIGrayText.react'),{display:'block'},i._("There are a few types of notifications which we don't currently handle in Notification Hub. In these cases, we instead open the story for you in a separate browser tab.")),p);c('ReactDOM').render(q,this.$WorkplaceHubView1);};function l(o){var p,q=c('XWorkHubController').getURIBuilder().getURI();if(o.getPath().contains(q.getPath())){var p=function(){var t=o.getPath().replace(q.getPath(),''),u=t.substring(0,t.lastIndexOf('/')),v=c('WorkHubTabSpecs').find(function(w){return w.logName===u;});c('HubNavActions').tabChanged(v?v.title:c('WorkHubTab').ALL,false);c('PageTransitions').transitionComplete();return {v:true};}();if(typeof p==="object")return p.v;}var r=o.getPath()==='/';if(c('HubNavStore').getOpenNewWindow()&&!r){var s=c('PageTransitions').getMostRecentURI();window.open(o);setTimeout(m.bind(null,s),0);c('PageTransitions').transitionComplete();return true;}return false;}function m(o){window.history.replaceState(o.getQualifiedURIBase().toString(),null,o.toString());}var n=new k();f.exports={loadPreview:n.loadPreview.bind(n),loadSavedStory:n.loadSavedStory.bind(n),showSpinner:n.showSpinner.bind(n),emptyPreview:n.emptyPreview.bind(n),renderStoryPreview:n.renderStoryPreview.bind(n),loadContainerlessSavedStory:n.loadContainerlessSavedStory.bind(n),getStoredTabName:n.getStoredTabName.bind(n),init:function o(p,q,r,s,t,u){return n.init(p,q,r,s,t,u);},createStoryPreview:function o(p){return n.createStoryPreview(p);}};}),null);
__d('HubNavActions',['HubNavDispatcher','WorkHubLogAction','WorkHubTabSpecs','WorkHubTypedLogger','WorkplaceHubView','keyMirror','nullthrows'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirror')({TAB_CHANGED:null,HIDE_REACTIONS_CHANGED:null,OPEN_NEW_WINDOW:null}),i={TYPES:h,tabChanged:function j(k){var l=arguments.length<=1||arguments[1]===undefined?true:arguments[1];c('WorkplaceHubView').emptyPreview();var m=c('nullthrows')(c('WorkHubTabSpecs').find(function(n){return n.title===k;}));new (c('WorkHubTypedLogger'))().setAction(c('WorkHubLogAction').NOTIFICATION_TAB_CHANGED).addToExtraData('tab',m.logName).log();c('HubNavDispatcher').dispatch({tabTitle:k,type:h.TAB_CHANGED,addToHistory:l});},hideReactionsChanged:function j(k){c('HubNavDispatcher').dispatch({type:h.HIDE_REACTIONS_CHANGED,hideReactions:k});},openNewWindowChanged:function j(k){c('HubNavDispatcher').dispatch({type:h.OPEN_NEW_WINDOW,openNewWindow:k});}};f.exports=i;}),null);
__d('HubNavStore',['CacheStorage','FluxReduceStore','HubNavActions','HubNavDispatcher','immutable','WorkHubTab'],(function a(b,c,d,e,f,g){'use strict';var h,i,j,k,l='HubNavStore.selectedTab',m='HubNavStore.hideReactions',n='HubNavStore.openNewWindow';h=babelHelpers.inherits(o,c('immutable').Record({selectedTab:c('WorkHubTab').ALL,addedToHistory:false,hideReactions:false,openNewWindow:false}));i=h&&h.prototype;function o(){h.apply(this,arguments);}j=babelHelpers.inherits(p,c('FluxReduceStore'));k=j&&j.prototype;p.prototype.getInitialState=function(){if(!this.storage)this.storage=new (c('CacheStorage'))('localstorage');return new o({selectedTab:this.storage.get(l,c('WorkHubTab').ALL),addedToHistory:false,hideReactions:this.storage.get(m,false),openNewWindow:this.storage.get(n,false)});};p.prototype.getSelectedTab=function(){return this.getState().get('selectedTab');};p.prototype.getHideReactions=function(){return this.getState().get('hideReactions');};p.prototype.getOpenNewWindow=function(){return this.getState().get('openNewWindow');};p.prototype.reduce=function(q,r){switch(r.type){case c('HubNavActions').TYPES.TAB_CHANGED:if(r.tabTitle){this.storage.set(l,r.tabTitle);}else this.storage.remove(l);return new o({selectedTab:r.tabTitle,addedToHistory:r.addToHistory,hideReactions:this.getHideReactions(),openNewWindow:this.getOpenNewWindow()});case c('HubNavActions').TYPES.HIDE_REACTIONS_CHANGED:this.storage.set(m,r.hideReactions);return new o({selectedTab:this.getSelectedTab(),addedToHistory:false,hideReactions:r.hideReactions,openNewWindow:this.getOpenNewWindow()});case c('HubNavActions').TYPES.OPEN_NEW_WINDOW:this.storage.set(n,r.openNewWindow);return new o({selectedTab:this.getSelectedTab(),addedToHistory:false,hideReactions:this.getHideReactions(),openNewWindow:r.openNewWindow});}return this.getState();};function p(){j.apply(this,arguments);}f.exports=new p(c('HubNavDispatcher'));}),null);
__d('NotificationPageList.react',['cx','fbt','Arbiter','ErrorBoundary.react','Event','LoadingIndicator.react','LogicalGrid.react','NavigationMessage','NotificationHubUnsavedChangesWarning','NotificationListItem.react','NotificationListPropTypes','NotificationsSourceView','NotificationUserActions','NotificationUtils','NotifTestIDs','React','ReactDOM','Run','SubscriptionsHandler','Vector','WorkplaceHubEvents','WorkplaceHubView','debounce','getObjectValues','getViewportDimensions','isEmpty'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(){'use strict';k.constructor.call(this);this.$NotificationPageList5=function(){this.$NotificationPageList4&&this.$NotificationPageList4.release();}.bind(this);this.$NotificationPageList8=function(){var m=c('ReactDOM').findDOMNode(this.$NotificationPageList3),n=this.$NotificationPageList7();if(this.props.afterScroll)this.props.afterScroll(this.$NotificationPageList6(),m,n);}.bind(this);this.$NotificationPageList15=function(){return c('getObjectValues')(this.props.notifs).map(function(m){return JSON.stringify(m);});}.bind(this);this.selectAndPreviewNotification=function(m){c('NotificationHubUnsavedChangesWarning').check().done(function(){this.onNotificationSelected(m);this.$NotificationPageList16(m);}.bind(this));}.bind(this);this.state={selectedID:null};}l.prototype.$NotificationPageList6=function(){'use strict';if(!this.$NotificationPageList2)return false;var m=c('ReactDOM').findDOMNode(this.$NotificationPageList2);if(!m)return false;var n=c('Vector').getElementPosition(m,'viewport').y;return n<c('Vector').getViewportDimensions().y;};l.prototype.$NotificationPageList7=function(){'use strict';var m=c('getViewportDimensions').withoutScrollbars();return {top:0,bottom:m.height,left:0,right:m.width};};l.prototype.$NotificationPageList9=function(m,n){'use strict';return n.indexOf(m);};l.prototype.$NotificationPageList10=function(m){'use strict';return c('getObjectValues')(this.props.notifs).find(function(n){return n.alert_id==m;});};l.prototype.$NotificationPageList11=function(m){'use strict';var n=this.$NotificationPageList10(m);return n?c('NotificationUtils').getLinkProps(n).href:null;};l.prototype.$NotificationPageList12=function(){'use strict';var m=c('getObjectValues')(this.props.notifs).map(function(o){return o.alert_id;}),n=this.state.selectedID?this.$NotificationPageList9(this.state.selectedID,m):Math.max(0,this.$NotificationPageList1);return 0<=n-1?m[n-1]:m[n];};l.prototype.$NotificationPageList13=function(){'use strict';var m=c('getObjectValues')(this.props.notifs).map(function(o){return o.alert_id;}),n=this.state.selectedID?this.$NotificationPageList9(this.state.selectedID,m):Math.max(0,this.$NotificationPageList1);return n+1<m.length?m[n+1]:m[n];};l.prototype.componentDidUpdate=function(){'use strict';this.$NotificationPageList8();if(this.props.enableHubView&&!this.state.selectedID){var m=c('getObjectValues')(this.props.notifs).map(function(n){return n.alert_id;});m.length>0&&this.selectAndPreviewNotification(m[0]);}};l.prototype.componentDidMount=function(){'use strict';c('Event').listen(window,'scroll',c('debounce')(this.$NotificationPageList8,200));this.$NotificationPageList8();if(this.props.enableHubView){this.$NotificationPageList4=new (c('SubscriptionsHandler'))();this.$NotificationPageList4.addSubscriptions(c('Run').onLeave(this.$NotificationPageList5),c('Arbiter').subscribe(c('NavigationMessage').NAVIGATION_BEGIN,this.$NotificationPageList5),c('Arbiter').subscribe(c('WorkplaceHubEvents').NEXT_NOTIFICATION,function(){this.selectAndPreviewNotification(this.$NotificationPageList13());}.bind(this)),c('Arbiter').subscribe(c('WorkplaceHubEvents').PREV_NOTIFICATION,function(){this.selectAndPreviewNotification(this.$NotificationPageList12());}.bind(this)),c('Arbiter').subscribe(c('WorkplaceHubEvents').OPEN_NOTIFICATION,function(){var m=this.$NotificationPageList11(this.state.selectedID);if(m)window.open(m);}.bind(this)),c('Arbiter').subscribe(c('WorkplaceHubEvents').TOGGLE_READ_STATE,function(){var m=this.$NotificationPageList10(this.state.selectedID);if(m)if(this.props.readState[m.alert_id]&&this.props.enableMarkUnread){c('NotificationUserActions').markNotificationsAsUnread([m.alert_id,c('NotificationsSourceView').HUB]);}else this.$NotificationPageList14(m.alert_id,c('NotificationsSourceView').HUB);}.bind(this)));}};l.prototype.componentWillUnmount=function(){'use strict';this.$NotificationPageList5();};l.prototype.$NotificationPageList16=function(m){'use strict';c('WorkplaceHubView').showSpinner();var n=this.$NotificationPageList11(m)||'#';c('WorkplaceHubView').loadPreview(m,n);setTimeout(function(){if(this.state.selectedID==m&&!this.props.readState[m])this.$NotificationPageList14(m);}.bind(this),1000);};l.prototype.$NotificationPageList14=function(m,n){'use strict';c('NotificationUserActions').markNotificationsAsRead([m],n);if(this.props.onRead)this.props.onRead(m);};l.prototype.onNotificationSelected=function(m){'use strict';var n=c('getObjectValues')(this.props.notifs).map(function(o){return o.alert_id;});this.$NotificationPageList1=this.$NotificationPageList9(m,n);this.setState({selectedID:m});};l.prototype.$NotificationPageList17=function(){'use strict';var m=c('getObjectValues')(this.props.notifs).map(function(n){return n.alert_id;});return c('getObjectValues')(this.props.notifs).map(function(n,o){var p=n.alert_id,q=this.$NotificationPageList9(p,m),r=this.props.enableHubView?this.selectAndPreviewNotification:null;return c('React').createElement(c('ErrorBoundary.react'),{key:p},c('React').createElement(c('NotificationListItem.react'),{getDebugData:this.$NotificationPageList15,enableHubView:this.props.enableHubView,enableMarkUnread:this.props.enableMarkUnread,isNotifsPage:true,isRead:this.props.readState[p],isSelected:this.state.selectedID===p,negativeTracking:this.props.negativeTracking,noPhotoPreviews:true,notification:n,onRead:this.props.onRead,onChevronHide:this.props.onChevronHide,onChevronShow:this.props.onChevronShow,onSelected:r,paused:this.props.paused,row:q,rowIndex:o,shortenTimestamp:this.props.shortenTimestamp,visible:!this.props.hiddenState[p]}));}.bind(this));};l.prototype.render=function(){'use strict';var m=null,n=null,o=c('React').createElement('ul',{'data-gt':this.props.tracking,'data-testid':c('NotifTestIDs').SEE_ALL_LIST});if(!c('isEmpty')(this.props.notifs)){m=c('React').createElement(c('LogicalGrid.react'),{ref:function(s){return this.$NotificationPageList3=s;}.bind(this),component:o},this.$NotificationPageList17());}else if(!this.props.canFetchMore)m=c('React').createElement('div',{className:"_44_s",'data-testid':c('NotifTestIDs').SEE_ALL_LIST},i._("No hay notificaciones nuevas"));if(this.props.canFetchMore)n=c('React').createElement(c('LoadingIndicator.react'),{color:'white',size:'large',ref:function(s){return this.$NotificationPageList2=s;}.bind(this),className:"_44_t"});var p=null;if(this.props.upsell){var q=this.props.upsell.module;p=c('React').createElement(q,babelHelpers['extends']({isPage:true},this.props.upsell.props));}var r="_44_u"+(this.props.showingChevron?' '+"_44_v":'');return c('React').createElement('div',{className:r},p,m,n);};l.propTypes=c('NotificationListPropTypes');f.exports=l;}),null);